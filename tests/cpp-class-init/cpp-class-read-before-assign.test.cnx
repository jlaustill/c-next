// Issue #503: External C++ class variables should not be flagged as uninitialized
// C++ classes with default constructors ARE initialized when declared
// The initialization analyzer should recognize this and not emit E0381
#include "CppMessage.hpp"

u32 main() {
    // Declare without explicit initializer - C++ default constructor runs
    CppMessage message;

    // Reading pgn should NOT be an error - constructor initialized it to 0
    if (message.pgn = 65280) {
        return 1;
    }

    // Also test reading other fields
    u8 src <- message.sourceAddress;
    u8 pri <- message.priority;

    return 0;
}
