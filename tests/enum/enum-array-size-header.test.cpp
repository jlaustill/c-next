/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include "enum-array-size-header.test.h"

#include <stdint.h>

// Bug: Enum value used as array size missing prefix in header
// cnext v0.1.65
//
// .cpp generates: extern const uint8_t DATA[EColor_COUNT];  (correct)
// .h generates:   extern const uint8_t DATA[COUNT];         (wrong - missing prefix)
//
// Causes: error: 'COUNT' was not declared in this scope
extern const uint8_t DATA[EColor_COUNT] = {10, 20, 30};

/* Scope: Test */

uint8_t Test_get(uint8_t idx) {
    return DATA[idx];
}
