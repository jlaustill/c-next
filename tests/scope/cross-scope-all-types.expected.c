/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>
#include <stdbool.h>

/* test-execution */
// Test: ADR-016 Cross-scope access with all primitive types
// Verifies that scopes can correctly access each other's public members
// Tests: all primitive types, cross-scope method calls, arrays, modifiers
// ==========================================
// SCOPE A: Provider scope with all primitive types
// ==========================================
/* Scope: Provider */
uint8_t Provider_valU8 = 255;
uint16_t Provider_valU16 = 65535;
uint32_t Provider_valU32 = 4294967295;
uint64_t Provider_valU64 = 18446744073709551615;
int8_t Provider_valI8 = -128;
int16_t Provider_valI16 = -32768;
int32_t Provider_valI32 = -2147483648;
int64_t Provider_valI64 = -9223372036854775808;
float Provider_valF32 = 3.14;
double Provider_valF64 = 3.141592653589793;
bool Provider_valBool = true;
uint32_t Provider_arrayU32[3] = {0};
int16_t Provider_arrayI16[3] = {0};
uint8_t Provider_clampVal = 200;
uint8_t Provider_wrapVal = 250;

uint8_t Provider_getU8(void) {
    return Provider_valU8;
}

int32_t Provider_getI32(void) {
    return Provider_valI32;
}

bool Provider_getBool(void) {
    return Provider_valBool;
}

void Provider_setU8(uint8_t* val) {
    Provider_valU8 = (*val);
}

void Provider_setI32(int32_t* val) {
    Provider_valI32 = (*val);
}

void Provider_setBool(bool* val) {
    Provider_valBool = (*val);
}

// ==========================================
// SCOPE B: Consumer scope that accesses Provider
// ==========================================
/* Scope: Consumer */
uint32_t Consumer_result = 0;
int32_t Consumer_signedResult = 0;
bool Consumer_boolResult = false;

uint8_t Consumer_readProviderU8(void) {
    return Provider_valU8;
}

uint16_t Consumer_readProviderU16(void) {
    return Provider_valU16;
}

uint32_t Consumer_readProviderU32(void) {
    return Provider_valU32;
}

uint64_t Consumer_readProviderU64(void) {
    return Provider_valU64;
}

int8_t Consumer_readProviderI8(void) {
    return Provider_valI8;
}

int16_t Consumer_readProviderI16(void) {
    return Provider_valI16;
}

int32_t Consumer_readProviderI32(void) {
    return Provider_valI32;
}

int64_t Consumer_readProviderI64(void) {
    return Provider_valI64;
}

float Consumer_readProviderF32(void) {
    return Provider_valF32;
}

double Consumer_readProviderF64(void) {
    return Provider_valF64;
}

bool Consumer_readProviderBool(void) {
    return Provider_valBool;
}

void Consumer_writeProviderU8(uint8_t* val) {
    Provider_valU8 = (*val);
}

void Consumer_writeProviderI32(int32_t* val) {
    Provider_valI32 = (*val);
}

void Consumer_writeProviderBool(bool* val) {
    Provider_valBool = (*val);
}

uint8_t Consumer_callProviderGetU8(void) {
    return Provider_getU8();
}

int32_t Consumer_callProviderGetI32(void) {
    return Provider_getI32();
}

bool Consumer_callProviderGetBool(void) {
    return Provider_getBool();
}

void Consumer_writeProviderArray(uint32_t* index, uint32_t* val) {
    Provider_arrayU32[(*index)] = (*val);
}

uint32_t Consumer_readProviderArray(uint32_t* index) {
    return Provider_arrayU32[(*index)];
}

uint8_t Consumer_readProviderClamp(void) {
    return Provider_clampVal;
}

uint8_t Consumer_readProviderWrap(void) {
    return Provider_wrapVal;
}

void Consumer_setProviderClamp(uint8_t* val) {
    Provider_clampVal = (*val);
}

void Consumer_setProviderWrap(uint8_t* val) {
    Provider_wrapVal = (*val);
}

void Consumer_computeSum(void) {
    Consumer_result = Provider_valU32;
}

void Consumer_computeSignedSum(void) {
    Consumer_signedResult = Provider_valI32 + 100;
}

int main(void) {
    if (Consumer_readProviderU8() != 255) return 1;
    if (Consumer_readProviderU16() != 65535) return 2;
    if (Consumer_readProviderU32() != 4294967295) return 3;
    if (Consumer_readProviderU64() != 18446744073709551615) return 4;
    if (Consumer_readProviderI8() != -128) return 5;
    if (Consumer_readProviderI16() != -32768) return 6;
    if (Consumer_readProviderI32() != -2147483648) return 7;
    if (Consumer_readProviderI64() != -9223372036854775808) return 8;
    float expectedF32 = 3.14;
    Provider_valF32 = expectedF32;
    if (Consumer_readProviderF32() != expectedF32) return 9;
    double expectedF64 = 3.141592653589793;
    Provider_valF64 = expectedF64;
    if (Consumer_readProviderF64() != expectedF64) return 10;
    if (Consumer_readProviderBool() != true) return 11;
    Consumer_writeProviderU8(&(uint8_t){42});
    if (Provider_valU8 != 42) return 12;
    Consumer_writeProviderI32(&(int32_t){-999});
    if (Provider_valI32 != -999) return 13;
    Consumer_writeProviderBool(&(bool){false});
    if (Provider_valBool != false) return 14;
    Provider_valU8 = 100;
    Provider_valI32 = -500;
    Provider_valBool = true;
    if (Consumer_callProviderGetU8() != 100) return 15;
    if (Consumer_callProviderGetI32() != -500) return 16;
    if (Consumer_callProviderGetBool() != true) return 17;
    Consumer_writeProviderArray(&(uint32_t){0}, &(uint32_t){1000});
    Consumer_writeProviderArray(&(uint32_t){1}, &(uint32_t){2000});
    Consumer_writeProviderArray(&(uint32_t){2}, &(uint32_t){3000});
    if (Consumer_readProviderArray(&(uint32_t){0}) != 1000) return 19;
    if (Consumer_readProviderArray(&(uint32_t){1}) != 2000) return 20;
    if (Consumer_readProviderArray(&(uint32_t){2}) != 3000) return 21;
    if (Consumer_readProviderClamp() != 200) return 22;
    if (Consumer_readProviderWrap() != 250) return 23;
    Consumer_setProviderClamp(&(uint8_t){100});
    if (Consumer_readProviderClamp() != 100) return 24;
    Consumer_setProviderWrap(&(uint8_t){50});
    if (Consumer_readProviderWrap() != 50) return 25;
    if (Provider_valU8 != 100) return 26;
    Provider_valU16 = 12345;
    if (Provider_valU16 != 12345) return 27;
    Consumer_computeSum();
    if (Consumer_result != 4294967295) return 28;
    Consumer_computeSignedSum();
    if (Consumer_signedResult != -400) return 29;
    Consumer_writeProviderU8(&(uint8_t){77});
    if (Provider_getU8() != 77) return 30;
    return 0;
}
