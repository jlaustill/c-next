/* test-execution */
// Tests: continue in nested loops
// Validates: continue only skips to next iteration of innermost loop

u32 main() {
    // Test 1: Continue inner for loop
    u32 outerSum <- 0;
    u32 innerOddSum <- 0;
    for (u32 i <- 0; i < 3; i +<- 1) {
        outerSum +<- i;
        for (u32 j <- 0; j < 6; j +<- 1) {
            if (j % 2 = 0) {
                continue;  // Skip even in inner loop
            }
            innerOddSum +<- j;
        }
    }
    // outerSum = 0+1+2 = 3
    if (outerSum != 3) return 1;
    // innerOddSum = (1+3+5) * 3 = 27
    if (innerOddSum != 27) return 2;

    // Test 2: Continue inner while loop
    u32 outerCount <- 0;
    u32 innerSkipped <- 0;
    u32 a <- 0;
    while (a < 4) {
        outerCount +<- 1;
        u32 b <- 0;
        while (b < 5) {
            u32 curr <- b;
            b +<- 1;
            if (curr % 2 = 0) {
                innerSkipped +<- 1;
                continue;
            }
        }
        a +<- 1;
    }
    if (outerCount != 4) return 3;
    // Inner skips 0,2,4 = 3 per outer = 12 total
    if (innerSkipped != 12) return 4;

    // Test 3: Continue in inner loop doesn't affect outer
    u32 outerRuns <- 0;
    u32 innerProcessed <- 0;
    for (u32 c <- 0; c < 3; c +<- 1) {
        outerRuns +<- 1;
        for (u32 d <- 0; d < 10; d +<- 1) {
            if (d < 7) {
                continue;  // Skip first 7
            }
            innerProcessed +<- 1;
        }
    }
    if (outerRuns != 3) return 5;
    // Inner processes d=7,8,9 = 3 per outer = 9 total
    if (innerProcessed != 9) return 6;

    // Test 4: Continue in do-while nested in for
    u32 doSkipped <- 0;
    u32 doProcessed <- 0;
    for (u32 e <- 0; e < 2; e +<- 1) {
        u32 f <- 0;
        do {
            u32 val <- f;
            f +<- 1;
            if (val % 3 = 0) {
                doSkipped +<- 1;
                continue;
            }
            doProcessed +<- 1;
        } while (f < 6);
    }
    // Skipped: 0,3 = 2 per outer = 4 total
    if (doSkipped != 4) return 7;
    // Processed: 1,2,4,5 = 4 per outer = 8 total
    if (doProcessed != 8) return 8;

    // Test 5: Three-level nesting with continue in innermost
    u32 l1 <- 0;
    u32 l2 <- 0;
    u32 l3Skipped <- 0;
    u32 l3Processed <- 0;
    for (u32 x <- 0; x < 2; x +<- 1) {
        l1 +<- 1;
        for (u32 y <- 0; y < 2; y +<- 1) {
            l2 +<- 1;
            for (u32 z <- 0; z < 4; z +<- 1) {
                if (z < 2) {
                    l3Skipped +<- 1;
                    continue;
                }
                l3Processed +<- 1;
            }
        }
    }
    if (l1 != 2) return 9;
    if (l2 != 4) return 10;
    // l3Skipped = 2 per l2 iteration = 2*4 = 8
    if (l3Skipped != 8) return 11;
    // l3Processed = 2 per l2 iteration = 2*4 = 8
    if (l3Processed != 8) return 12;

    return 0;
}
