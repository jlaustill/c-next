// test-execution
// test-coverage: 30-use-c-enum-typedef
// Tests: Using typedef'd C enums
// ADR-010: Enum typedef import from C headers

#include "c-interop/enums.h"

u32 main() {
   
// Test 1: Priority typedef enum
    Priority low <- PRIORITY_LOW;
    Priority med <- PRIORITY_MEDIUM;
    Priority high <- PRIORITY_HIGH;
    Priority crit <- PRIORITY_CRITICAL;

    if (low != 0) return 1;
    if (med != 50) return 2;
    if (high != 100) return 3;
    if (crit != 255) return 4;

   
// Test 2: Comparison with Priority values
    Priority p <- PRIORITY_HIGH;
    if (p != PRIORITY_HIGH) return 5;
    if (p < PRIORITY_MEDIUM) return 6;  // high > medium

   
// Test 3: Arithmetic with enum values
    Priority threshold <- PRIORITY_MEDIUM;
    if (high > threshold) {
        // Expected: 100 > 50
    } else {
        return 7;
    }

   
// Test 4: Permissions typedef enum with flags
    Permissions perm <- FLAG_READ;
    perm <- perm | FLAG_WRITE;
    if (perm != 3) return 8;

    return 0;  // All tests passed
}
