/**
 * Generated by C-Next Transpiler from: enum-no-duplication.test.cnx
 * A safer C for embedded systems
 */

#include "enum-no-duplication.test.hpp"

#include <stdint.h>
#include <stdbool.h>

// test-execution
// Tests: Issue #369 - enum definitions should NOT be duplicated in both .h and .c files
// When generating headers, enum definitions should ONLY appear in the .h file
/* Scope: Motor */
Motor_State Motor_current = Motor_State_IDLE;

uint8_t Motor_start(void) {
    Motor_current = Motor_State_RUNNING;
    return 1;
}

bool Motor_isRunning(void) {
    if (Motor_current == Motor_State_RUNNING) {
        return true;
    }
    return false;
}

int main(void) {
    Motor_start();
    if (Motor_current != Motor_State_RUNNING) return 1;
    bool running = Motor_isRunning();
    if (running != true) return 2;
    return 0;
}
