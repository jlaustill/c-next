/**
 * Generated by C-Next Transpiler from: switch-enum-unqualified-case.test.cnx
 * A safer C for embedded systems
 */

#include <stdint.h>

// Issue #471: Unqualified enum values in case labels
// Tests that enum values without type prefix get resolved correctly
// in both if conditions and case labels
typedef enum {
    ECategory_CAT_A = 0,
    ECategory_CAT_B = 1,
    ECategory_CAT_C = 2
} ECategory;

uint32_t categorize(ECategory cat) {
    if (cat == ECategory_CAT_A) {
        return 100;
    }
    switch (cat) {
        case ECategory_CAT_A: {
            return 10;
            break;
        }
        case ECategory_CAT_B: {
            return 20;
            break;
        }
        case ECategory_CAT_C: {
            return 30;
            break;
        }
        default: {
            break;
        }
    }
    return 0;
}
