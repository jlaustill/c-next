// test-coverage: 10-enum-function-param
// test-execution
// Tests: Enum as function parameter
enum Status {
    OK <- 0,
    WARNING <- 1,
    ERROR <- 2,
    CRITICAL <- 3
}

// Function that takes enum as parameter
u32 getStatusCode(Status s) {
    if (s = Status.OK) {
        return 0;
    }
    if (s = Status.WARNING) {
        return 1;
    }
    if (s = Status.ERROR) {
        return 2;
    }
    if (s = Status.CRITICAL) {
        return 3;
    }
    return 99;
}

// Function that takes enum and returns modified value
u32 getStatusPriority(Status s) {
    if (s = Status.CRITICAL) {
        return 100;
    }
    if (s = Status.ERROR) {
        return 50;
    }
    if (s = Status.WARNING) {
        return 10;
    }
    return 0;
}

u32 main() {

// Test passing different enum values as parameters
    u32 code <- getStatusCode(Status.OK);
    if (code != 0) return 1;
    code <- getStatusCode(Status.WARNING);
    if (code != 1) return 2;
    code <- getStatusCode(Status.ERROR);
    if (code != 2) return 3;
    code <- getStatusCode(Status.CRITICAL);
    if (code != 3) return 4;


// Test with enum variable
    Status current <- Status.ERROR;
    code <- getStatusCode(current);
    if (code != 2) return 5;


// Test priority function
    u32 priority <- getStatusPriority(Status.OK);
    if (priority != 0) return 6;
    priority <- getStatusPriority(Status.WARNING);
    if (priority != 10) return 7;
    priority <- getStatusPriority(Status.ERROR);
    if (priority != 50) return 8;
    priority <- getStatusPriority(Status.CRITICAL);
    if (priority != 100) return 9;


// Test with variable
    current <- Status.CRITICAL;
    priority <- getStatusPriority(current);
    if (priority != 100) return 10;

    return 0;
}
