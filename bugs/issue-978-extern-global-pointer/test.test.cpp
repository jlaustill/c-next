/**
 * Generated by C-Next Transpiler from: test.test.cnx
 * A safer C for embedded systems
 */

#include "test.test.hpp"

// test-no-exec
// Issue #978: External global of concrete struct type passed by value
// instead of by reference when calling C function expecting pointer
#include "fake_lib.h"

#include <stdint.h>

/* Scope: App */

void App_init(void) {
    set_font(&big_font);
}

void App_init_from_ptr(void) {
    set_font(font_ptr);
}

void App_copy(void) {
    copy_font(big_font);
}

int main(void) {
    App_init();
    int32_t ok = was_font_set_correctly();
    if (ok != 1) return 1;
    return 0;
}
