/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// Postfix Chain Test: Deep nesting (3+ levels)
// Tests: Complex chains with multiple member/array/bit accesses
typedef struct Color {
    uint8_t r;
    uint8_t g;
    uint8_t b;
} Color;

typedef struct Material {
    Color ambient;
    Color diffuse;
    uint8_t opacity;
} Material;

typedef struct Object {
    Material material;
    int32_t id;
} Object;

typedef struct Scene {
    Object objects[4];
    uint32_t count;
} Scene;

Scene scenes[2] = {0};

int main(void) {
    scenes[0].objects[0].material.ambient.r = 255;
    scenes[0].objects[0].material.ambient.g = 128;
    scenes[0].objects[0].material.ambient.b = 64;
    uint8_t red = scenes[0].objects[0].material.ambient.r;
    uint8_t green = scenes[0].objects[0].material.ambient.g;
    scenes[0].objects[1].material.diffuse.r = 200;
    scenes[0].objects[1].material.diffuse.g = 100;
    scenes[0].objects[1].material.diffuse.b = 50;
    scenes[0].objects[0].material.opacity = 255;
    uint8_t alpha = scenes[0].objects[0].material.opacity;
    scenes[1].objects[2].material.ambient.r = 100;
    scenes[1].objects[3].material.diffuse.b = 75;
    scenes[0].objects[0].id = 42;
    int32_t objId = scenes[1].objects[2].id;
}
