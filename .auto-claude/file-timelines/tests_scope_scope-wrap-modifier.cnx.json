{
  "file_path": "tests/scope/scope-wrap-modifier.cnx",
  "main_branch_history": [],
  "task_views": {
    "001-100-scope-testing-coverage": {
      "task_id": "001-100-scope-testing-coverage",
      "branch_point": {
        "commit_hash": "6085a00ee4bff6129a6503c31d4280591d7eb497",
        "content": "",
        "timestamp": "2026-01-09T22:16:23.113589"
      },
      "worktree_state": {
        "content": "// Test: ADR-016 + ADR-044 Wrap overflow modifier inside scopes\n// Verifies that wrap modifier works correctly with integer types inside scope methods\n// Tests: wrap variables accessed via this. accessor with compound assignment operators\n\nscope WrapTest {\n    // Wrap scope variables - unsigned integers\n    wrap u8 byteCounter <- 250;\n    wrap u16 tickCount <- 65530;\n    wrap u32 cycleCounter <- 4294967290;\n\n    // Wrap scope variables - smaller values for testing wrap-around\n    wrap u8 brightness <- 10;\n    wrap u16 sensorValue <- 100;\n    wrap u32 position <- 50;\n\n    // Public getter methods using this. accessor for wrap variables\n    u8 getByteCounter() {\n        return this.byteCounter;\n    }\n\n    u16 getTickCount() {\n        return this.tickCount;\n    }\n\n    u32 getCycleCounter() {\n        return this.cycleCounter;\n    }\n\n    u8 getBrightness() {\n        return this.brightness;\n    }\n\n    u16 getSensorValue() {\n        return this.sensorValue;\n    }\n\n    u32 getPosition() {\n        return this.position;\n    }\n\n    // Increment methods using wrap compound add (+<-)\n    // These test overflow wrapping (back to 0 and continue)\n    void incrementByteCounter() {\n        this.byteCounter +<- 10;  // 250 + 10 = 260 -> wraps to 4\n    }\n\n    void incrementTickCount() {\n        this.tickCount +<- 10;  // 65530 + 10 = 65540 -> wraps to 4\n    }\n\n    void incrementCycleCounter() {\n        this.cycleCounter +<- 10;  // Would overflow and wrap\n    }\n\n    // Simple increment (no overflow expected)\n    void incrementBrightness() {\n        this.brightness +<- 5;  // Normal increment, no wrap\n    }\n\n    void incrementSensorValue() {\n        this.sensorValue +<- 100;  // Normal increment, no wrap\n    }\n\n    void incrementPosition() {\n        this.position +<- 1000;  // Normal increment, no wrap\n    }\n\n    // Decrement methods using wrap compound subtract (-<-)\n    // These test underflow wrapping (back to MAX and continue)\n    void decrementBrightness() {\n        this.brightness -<- 20;  // 10 - 20 = -10 -> wraps to 246\n    }\n\n    void decrementSensorValue() {\n        this.sensorValue -<- 150;  // 100 - 150 = -50 -> wraps to 65486\n    }\n\n    void decrementPosition() {\n        this.position -<- 100;  // 50 - 100 = -50 -> wraps to UINT32_MAX - 49\n    }\n\n    // Normal decrements (no underflow expected)\n    void decrementByteCounter() {\n        this.byteCounter -<- 10;  // Normal decrement\n    }\n\n    void decrementTickCount() {\n        this.tickCount -<- 100;  // Normal decrement\n    }\n\n    void decrementCycleCounter() {\n        this.cycleCounter -<- 1000;  // Normal decrement\n    }\n\n    // Combined operations to test multiple wrap behaviors\n    void updateCounters() {\n        this.byteCounter +<- 1;\n        this.tickCount +<- 1;\n        this.cycleCounter +<- 1;\n    }\n\n    void adjustValues() {\n        this.brightness +<- 10;\n        this.sensorValue -<- 50;\n        this.position +<- 25;\n    }\n}\n\nvoid main() {\n    // Test reading wrap values via this. accessor\n    WrapTest.getByteCounter();\n    WrapTest.getTickCount();\n    WrapTest.getCycleCounter();\n    WrapTest.getBrightness();\n    WrapTest.getSensorValue();\n    WrapTest.getPosition();\n\n    // Test wrap overflow operations (add wrapping)\n    WrapTest.incrementByteCounter();\n    WrapTest.incrementTickCount();\n    WrapTest.incrementCycleCounter();\n\n    // Test normal increments\n    WrapTest.incrementBrightness();\n    WrapTest.incrementSensorValue();\n    WrapTest.incrementPosition();\n\n    // Test wrap underflow operations (subtract wrapping)\n    WrapTest.decrementBrightness();\n    WrapTest.decrementSensorValue();\n    WrapTest.decrementPosition();\n\n    // Test normal decrements\n    WrapTest.decrementByteCounter();\n    WrapTest.decrementTickCount();\n    WrapTest.decrementCycleCounter();\n\n    // Test combined operations\n    WrapTest.updateCounters();\n    WrapTest.adjustValues();\n}\n",
        "last_modified": "2026-01-09T22:16:23.159373"
      },
      "task_intent": {
        "title": "100% Scope Testing Coverage",
        "description": "Expand the C-Next test suite to achieve comprehensive coverage of scope-related functionality including this./global. accessors with all data types, modifier permutations, and error cases.",
        "from_plan": true
      },
      "commits_behind_main": 1,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-09T22:16:23.143550",
  "last_updated": "2026-01-09T22:16:23.145077"
}