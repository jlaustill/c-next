/**
 * Generated by C-Next Transpiler from: string-array-size-inference.test.cnx
 * A safer C for embedded systems
 */

#include <stdint.h>
#include <string.h>

// Issue #380: String array initializers with size inference
// Tests: array size inferred from initializer count
// Size inferred from initializer count (3 elements)
// cppcheck-suppress misra-c2012-9.3
// cppcheck-suppress misra-c2012-9.4
const char DAYS[3][17] = {"Monday", "Tuesday", "Wednesday"};

// Local array with size inference (C-style for string arrays)
uint32_t test(void) {
    // cppcheck-suppress misra-c2012-9.3
    // cppcheck-suppress misra-c2012-9.4
    char items[4][9] = {"A", "B", "C", "D"};
    uint8_t count = 4;
    if (count != 4) return 1;
    if (strlen(items[0U]) != 1) return 2;
    if (strlen(items[3U]) != 1) return 3;
    return 0;
}

int main(void) {
    if (3 != 3) return 1;
    if (strlen(DAYS[0U]) != 6) return 2;
    if (strlen(DAYS[1U]) != 7) return 3;
    if (strlen(DAYS[2U]) != 9) return 4;
    uint32_t localResult = test();
    if (localResult != 0) return 5;
    return 0;
}
