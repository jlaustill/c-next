/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// test-execution
// Tests: Scope variables used in MULTIPLE functions stay shared (file-scope static)
//
// Issue #232: Variables used in multiple functions intentionally share state.
// This test verifies that multi-function variables work correctly as shared state.
/* Scope: SharedState */
static uint32_t SharedState_counter = 0;

void SharedState_increment(void) {
    SharedState_counter = SharedState_counter + 1;
}

uint32_t SharedState_getCount(void) {
    return SharedState_counter;
}

int main(void) {
    if (SharedState_getCount() != 0) return 1;
    SharedState_increment();
    SharedState_increment();
    if (SharedState_getCount() != 2) return 2;
    SharedState_increment();
    if (SharedState_getCount() != 3) return 3;
    return 0;
}
