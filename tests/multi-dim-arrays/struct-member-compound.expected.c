/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// Test: Compound assignment on struct member arrays
// Verifies fix for line 4114 in CodeGenerator.ts
typedef struct {
    uint8_t data[8];
    int32_t counts[4];
} Buffer;

Buffer buf = {0};

int main(void) {
    buf.data[0] = 50;
    buf.data[1] = 100;
    buf.counts[0] = 1000;
    buf.counts[1] = 500;
    buf.data[0] += 10;
    buf.data[1] -= 25;
    buf.counts[0] += 500;
    buf.counts[1] -= 200;
    if (buf.data[0] != 60) {
        return 1;
    }
    if (buf.data[1] != 75) {
        return 1;
    }
    if (buf.counts[0] != 1500) {
        return 1;
    }
    if (buf.counts[1] != 300) {
        return 1;
    }
    return 0;
}
