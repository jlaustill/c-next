/**
 * Generated by C-Next Transpiler from: valid-while-null-check.test.cnx
 * A safer C for embedded systems
 */

// ADR-046: While loop condition provides NULL check
// Tests that c_ variables checked in while condition are checked inside body
#include <stdio.h>

#include <stdbool.h>
#include <string.h>

char line[257] = "";

bool keepReading = true;

void testWhileNullCheck(void) {
    FILE* c_file = fopen("data.txt", "r");
    while (c_file != nullptr) {
        fclose(c_file);
        printf("File was open\n");
        c_file = fopen("nonexistent.txt", "r");
    }
}
