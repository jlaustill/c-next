/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// ADR-032: Nested Structs with Function Parameters
// Tests: passing and accessing nested struct members via function params
typedef struct {
    int32_t x;
    int32_t y;
} Point;

typedef struct {
    Point topLeft;
    Point bottomRight;
} Rectangle;

// Access nested members from struct parameter (ADR-006: pass by reference)
int32_t getWidth(const Rectangle* rect) {
    return rect->bottomRight.x - rect->topLeft.x;
}

int32_t getHeight(const Rectangle* rect) {
    return rect->bottomRight.y - rect->topLeft.y;
}

// Calculate area using nested access
int32_t getArea(const Rectangle* rect) {
    int32_t w = rect->bottomRight.x - rect->topLeft.x;
    int32_t h = rect->bottomRight.y - rect->topLeft.y;
    return w * h;
}

// Modify nested members through parameter
void moveRect(Rectangle* rect, const int32_t* dx, const int32_t* dy) {
    rect->topLeft.x += (*dx);
    rect->topLeft.y += (*dy);
    rect->bottomRight.x += (*dx);
    rect->bottomRight.y += (*dy);
}

// Test instance
Rectangle bounds = (Rectangle){ .topLeft = (Point){ .x = 10, .y = 20 }, .bottomRight = (Point){ .x = 60, .y = 70 } };
