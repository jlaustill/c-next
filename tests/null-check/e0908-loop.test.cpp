/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

// E0908: Loop with reassignment pattern (no error expected)
// This is the idiomatic fgets-in-while pattern from ADR-046
#include <stdio.h>

#include <string.h>

char buffer[257] = "";

void testLoopPattern(void) {
    FILE* c_file = fopen("data.txt", "r");
    if (c_file != nullptr) {
        char* c_line = fgets(buffer, 257, c_file);
        while (c_line != nullptr) {
            printf("%s", buffer);
            c_line = fgets(buffer, 257, c_file);
        }
        fclose(c_file);
    }
}
