// test-execution
// Tests: i16 as array element type
// Coverage: Section 1.2 i16 array element type
u32 main() {
    // Basic i16 array with initialization
    i16 values[5] <- [-32768, -1000, 0, 1000, 32767];

    if (values[0] != -32768) return 1;
    if (values[1] != -1000) return 2;
    if (values[2] != 0) return 3;
    if (values[3] != 1000) return 4;
    if (values[4] != 32767) return 5;

    // i16 array with explicit size
    i16 data[4];
    data[0] <- -5000;
    data[1] <- 5000;
    data[2] <- -10000;
    data[3] <- 10000;

    if (data[0] != -5000) return 6;
    if (data[1] != 5000) return 7;
    if (data[2] != -10000) return 8;
    if (data[3] != 10000) return 9;

    // i16 array with inferred size
    i16 inferred[] <- [100, 200, 300];
    if (inferred[0] != 100) return 10;
    if (inferred[1] != 200) return 11;
    if (inferred[2] != 300) return 12;

    // i16 array in loop
    i16 loop_arr[3] <- [100, 200, 300];
    i16 sum <- 0;
    for (u32 i <- 0; i < 3; i +<- 1) {
        sum +<- loop_arr[i];
    }
    if (sum != 600) return 13;

    // i16 array modification
    i16 modify[2] <- [1000, 2000];
    modify[0] <- -1000;
    modify[1] <- -2000;
    if (modify[0] != -1000) return 14;
    if (modify[1] != -2000) return 15;

    return 0;
}
