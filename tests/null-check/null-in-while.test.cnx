// test-coverage: 28-null-in-while
// Tests: NULL check in while loop condition using c_ prefix pattern
#include <stdio.h>

string<64> buffer;

// Read lines until fgets returns NULL (EOF)
void readAllLines() {
    cstring c_result <- fgets(buffer, buffer.size, stdin);
    while (c_result != NULL) {
        // Process each line
        printf("Line: %s", buffer);
        c_result <- fgets(buffer, buffer.size, stdin);
    }
}

// Alternative pattern with = NULL check
void readUntilEmpty() {
    cstring c_result <- fgets(buffer, buffer.size, stdin);
    while (c_result = NULL) {
        // This pattern exits on first non-NULL
        printf("Got NULL\n");
        c_result <- fgets(buffer, buffer.size, stdin);
    }
}

void main() {
    readAllLines();
}
