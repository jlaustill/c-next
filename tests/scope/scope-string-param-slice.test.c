/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include "scope-string-param-slice.test.h"

#include <stdint.h>
#include <string.h>

// test-execution
// Tests: Issue #213 - Scope helper methods with string parameters
// Validates that slice assignment in private methods generates memcpy, not bitwise ops
// Updated for Issue #234: Uses compile-time constant offsets
/* Scope: StringSliceTest */

static void StringSliceTest_copyToBuffer(char* buffer, uint16_t value) {
    memcpy(&buffer[0], &value, 2);
}

static void StringSliceTest_copyToBufferAt2(char* buffer, uint16_t value) {
    memcpy(&buffer[2], &value, 2);
}

uint32_t StringSliceTest_testSliceAssignment(void) {
    char buffer[65] = "";
    StringSliceTest_copyToBuffer(&buffer, 0x1234U);
    uint8_t byte0 = buffer[0U];
    uint8_t byte1 = buffer[1U];
    if (byte0 != 0x34) return 1;
    if (byte1 != 0x12) return 2;
    StringSliceTest_copyToBufferAt2(&buffer, 0x5678U);
    uint8_t byte2 = buffer[2U];
    uint8_t byte3 = buffer[3U];
    if (byte2 != 0x78) return 3;
    if (byte3 != 0x56) return 4;
    return 0;
}

int main(void) {
    return StringSliceTest_testSliceAssignment();
}
