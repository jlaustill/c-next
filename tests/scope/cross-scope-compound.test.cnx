/* test-execution */
// Test: Compound assignment with cross-scope access
// Tests global.OtherScope.var +<- value pattern (ADR-016)

scope Counter {
    i32 value <- 100;
    i32 data[3];
}

scope Manager {
    void incrementCounter() {
        // Cross-scope compound assignment - requires global. prefix (ADR-016)
        global.Counter.value +<- 50;  // Should be: Counter_value += 50
    }

    void incrementCounterArray() {
        global.Counter.data[0] <- 10;
        global.Counter.data[0] +<- 5;  // Should be: Counter_data[0] += 5
    }
}

u32 main() {
    Manager.incrementCounter();
    Manager.incrementCounterArray();

    // Verify cross-scope compound worked
    if (Counter.value != 150) {
        return 1;
    }

    // Verify cross-scope array compound worked
    if (Counter.data[0] != 15) {
        return 2;
    }

    return 0;
}
