/* test-coverage: 27-multiple-output-params */ /* test-execution */ // Tests: Function with multiple output parameters
// Divides a by b, returns quotient and remainder via output params
void divmod(u32 a, u32 b, u32 quotient, u32 remainder) {
    quotient <- a / b;
    remainder <- a % b;
}

// Returns min and max of two values
void minmax(i32 a, i32 b, i32 minVal, i32 maxVal) {
    if (a < b) {
        minVal <- a;
        maxVal <- b;
    } else {
        minVal <- b;
        maxVal <- a;
    }
}

// Calculates statistics: sum, count, and average
void stats(u32 a, u32 b, u32 c, u32 sum, u32 count, u32 avg) {
    sum <- a + b + c;
    count <- 3;
    avg <- sum / count;
}

// Swaps three values in rotation: a->b, b->c, c->a
void rotate3(u32 a, u32 b, u32 c) {
    u32 temp <- a;
    a <- b;
    b <- c;
    c <- temp;
}

u32 main() {
    // Test divmod
    u32 q <- 0;
    u32 r <- 0;

    divmod(17, 5, q, r);
    if (q != 3) return 1;
    if (r != 2) return 2;

    divmod(100, 10, q, r);
    if (q != 10) return 3;
    if (r != 0) return 4;

    divmod(7, 3, q, r);
    if (q != 2) return 5;
    if (r != 1) return 6;

    // Test minmax
    i32 minResult <- 0;
    i32 maxResult <- 0;

    minmax(10, 20, minResult, maxResult);
    if (minResult != 10) return 7;
    if (maxResult != 20) return 8;

    minmax(50, 25, minResult, maxResult);
    if (minResult != 25) return 9;
    if (maxResult != 50) return 10;

    minmax(-5, 5, minResult, maxResult);
    if (minResult != -5) return 11;
    if (maxResult != 5) return 12;

    // Test stats
    u32 sum <- 0;
    u32 count <- 0;
    u32 avg <- 0;

    stats(10, 20, 30, sum, count, avg);
    if (sum != 60) return 13;
    if (count != 3) return 14;
    if (avg != 20) return 15;

    stats(100, 200, 300, sum, count, avg);
    if (sum != 600) return 16;
    if (avg != 200) return 17;

    // Test rotate3
    u32 x <- 1;
    u32 y <- 2;
    u32 z <- 3;

    rotate3(x, y, z);
    if (x != 2) return 18;
    if (y != 3) return 19;
    if (z != 1) return 20;

    return 0;
}
