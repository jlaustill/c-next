{
  "file_path": "tests/scope/scope-method-contexts.cnx",
  "main_branch_history": [],
  "task_views": {
    "001-100-scope-testing-coverage": {
      "task_id": "001-100-scope-testing-coverage",
      "branch_point": {
        "commit_hash": "6085a00ee4bff6129a6503c31d4280591d7eb497",
        "content": "",
        "timestamp": "2026-01-09T22:16:23.113589"
      },
      "worktree_state": {
        "content": "// Test: ADR-016 Modifiers in public and private method contexts\n// Verifies that this. and global. accessors work correctly in all method contexts\n// Tests: public methods, private methods, local variables with modifiers, combined access patterns\n\n// Global variables for testing global. accessor in all method contexts\nconst u8 GLOBAL_MAX <- 100;\nconst u16 GLOBAL_THRESHOLD <- 1000;\nu8 globalCounter <- 50;\nbool globalEnabled <- true;\ni16 globalOffset <- -25;\nf32 globalScale <- 2.5;\n\nscope MethodContexts {\n    // Scope-level variables - private (default)\n    u8 privateValue <- 10;\n    clamp u8 privateClampValue <- 200;\n    wrap u8 privateWrapValue <- 250;\n    bool privateFlag <- false;\n    i16 privateOffset <- -50;\n\n    // Scope-level variables - public\n    public u8 publicValue <- 20;\n    public clamp u16 publicClampValue <- 60000;\n    public wrap u16 publicWrapValue <- 65530;\n    public bool publicFlag <- true;\n    public i32 publicOffset <- -1000;\n\n    // ========================================\n    // PRIVATE METHODS - this. accessor tests\n    // ========================================\n\n    // Private method: basic this. access to private members\n    u8 getPrivateValue() {\n        return this.privateValue;\n    }\n\n    // Private method: basic this. access to public members\n    u8 getPublicValueInternal() {\n        return this.publicValue;\n    }\n\n    // Private method: this. with clamp modifier\n    u8 getPrivateClampValue() {\n        return this.privateClampValue;\n    }\n\n    // Private method: this. with wrap modifier\n    u8 getPrivateWrapValue() {\n        return this.privateWrapValue;\n    }\n\n    // Private method: this. modify private clamp variable\n    void incrementPrivateClamp() {\n        this.privateClampValue +<- 100;  // Clamps at 255\n    }\n\n    // Private method: this. modify private wrap variable\n    void incrementPrivateWrap() {\n        this.privateWrapValue +<- 10;  // Wraps around\n    }\n\n    // Private method: boolean this. access\n    bool getPrivateFlag() {\n        return this.privateFlag;\n    }\n\n    // Private method: signed integer this. access\n    i16 getPrivateOffset() {\n        return this.privateOffset;\n    }\n\n    // ========================================\n    // PRIVATE METHODS - global. accessor tests\n    // ========================================\n\n    // Private method: global. access to const global\n    u8 getGlobalMaxInternal() {\n        return global.GLOBAL_MAX;\n    }\n\n    // Private method: global. access to mutable global\n    u8 getGlobalCounterInternal() {\n        return global.globalCounter;\n    }\n\n    // Private method: global. access to bool global\n    bool getGlobalEnabledInternal() {\n        return global.globalEnabled;\n    }\n\n    // Private method: global. access to signed global\n    i16 getGlobalOffsetInternal() {\n        return global.globalOffset;\n    }\n\n    // Private method: global. access to float global\n    f32 getGlobalScaleInternal() {\n        return global.globalScale;\n    }\n\n    // ========================================\n    // PRIVATE METHODS - combined this. and global.\n    // ========================================\n\n    // Private method: combine scope and global values\n    u8 computePrivateSum() {\n        return this.privateValue + global.globalCounter;\n    }\n\n    // Private method: compare scope and global values\n    bool privateValueBelowMax() {\n        return this.privateValue < global.GLOBAL_MAX;\n    }\n\n    // Private method: offset calculation using this. and global.\n    i16 computePrivateWithOffset() {\n        return this.privateOffset + global.globalOffset;\n    }\n\n    // ========================================\n    // PUBLIC METHODS - this. accessor tests\n    // ========================================\n\n    // Public method: basic this. access to private members\n    public u8 getPrivateValueExternal() {\n        return this.privateValue;\n    }\n\n    // Public method: basic this. access to public members\n    public u8 getPublicValue() {\n        return this.publicValue;\n    }\n\n    // Public method: this. with clamp modifier on public variable\n    public u16 getPublicClampValue() {\n        return this.publicClampValue;\n    }\n\n    // Public method: this. with wrap modifier on public variable\n    public u16 getPublicWrapValue() {\n        return this.publicWrapValue;\n    }\n\n    // Public method: this. modify public clamp variable\n    public void incrementPublicClamp() {\n        this.publicClampValue +<- 10000;  // Clamps at 65535\n    }\n\n    // Public method: this. modify public wrap variable\n    public void incrementPublicWrap() {\n        this.publicWrapValue +<- 10;  // Wraps around\n    }\n\n    // Public method: boolean this. access\n    public bool getPublicFlag() {\n        return this.publicFlag;\n    }\n\n    // Public method: signed integer this. access\n    public i32 getPublicOffset() {\n        return this.publicOffset;\n    }\n\n    // Public method: set private value via this.\n    public void setPrivateValue(u8 val) {\n        this.privateValue <- val;\n    }\n\n    // Public method: set public value via this.\n    public void setPublicValue(u8 val) {\n        this.publicValue <- val;\n    }\n\n    // Public method: set private flag via this.\n    public void setPrivateFlag(bool val) {\n        this.privateFlag <- val;\n    }\n\n    // Public method: set public flag via this.\n    public void setPublicFlag(bool val) {\n        this.publicFlag <- val;\n    }\n\n    // ========================================\n    // PUBLIC METHODS - global. accessor tests\n    // ========================================\n\n    // Public method: global. access to const global\n    public u8 getGlobalMax() {\n        return global.GLOBAL_MAX;\n    }\n\n    // Public method: global. access to threshold\n    public u16 getGlobalThreshold() {\n        return global.GLOBAL_THRESHOLD;\n    }\n\n    // Public method: global. access to mutable global\n    public u8 getGlobalCounter() {\n        return global.globalCounter;\n    }\n\n    // Public method: global. access to bool global\n    public bool getGlobalEnabled() {\n        return global.globalEnabled;\n    }\n\n    // Public method: global. access to signed global\n    public i16 getGlobalOffset() {\n        return global.globalOffset;\n    }\n\n    // Public method: global. access to float global\n    public f32 getGlobalScale() {\n        return global.globalScale;\n    }\n\n    // ========================================\n    // PUBLIC METHODS - combined this. and global.\n    // ========================================\n\n    // Public method: combine scope and global values (unsigned)\n    public u8 computePublicSum() {\n        return this.publicValue + global.globalCounter;\n    }\n\n    // Public method: compare scope and global values\n    public bool publicValueBelowMax() {\n        return this.publicValue < global.GLOBAL_MAX;\n    }\n\n    // Public method: offset calculation using this. and global.\n    public i32 computePublicWithOffset() {\n        return this.publicOffset + global.globalOffset;\n    }\n\n    // Public method: call private method (tests method chaining)\n    public u8 getPrivateSumViaInternal() {\n        return this.computePrivateSum();\n    }\n\n    // Public method: call private method that uses global.\n    public u8 getGlobalCounterViaInternal() {\n        return this.getGlobalCounterInternal();\n    }\n\n    // Public method: call private method that uses this.\n    public u8 getPrivateClampViaInternal() {\n        return this.getPrivateClampValue();\n    }\n\n    // ========================================\n    // PUBLIC METHODS - comprehensive tests\n    // ========================================\n\n    // Public method: access all private modifiers via this.\n    public void modifyAllPrivate() {\n        this.privateValue <- this.privateValue + 1;\n        this.privateClampValue +<- 10;\n        this.privateWrapValue +<- 5;\n        this.privateFlag <- !this.privateFlag;\n        this.privateOffset <- this.privateOffset - 10;\n    }\n\n    // Public method: access all public modifiers via this.\n    public void modifyAllPublic() {\n        this.publicValue <- this.publicValue + 1;\n        this.publicClampValue +<- 100;\n        this.publicWrapValue +<- 5;\n        this.publicFlag <- !this.publicFlag;\n        this.publicOffset <- this.publicOffset - 100;\n    }\n\n    // Public method: mixed access - scope members and global values\n    public bool checkThresholds() {\n        return this.publicClampValue < global.GLOBAL_THRESHOLD && this.privateValue < global.GLOBAL_MAX;\n    }\n\n    // Public method: all bool flags\n    public bool getAllFlags() {\n        return this.privateFlag && this.publicFlag && global.globalEnabled;\n    }\n}\n\nvoid main() {\n    // Test private methods indirectly via public wrappers\n    MethodContexts.getPrivateValueExternal();\n    MethodContexts.getPrivateSumViaInternal();\n    MethodContexts.getGlobalCounterViaInternal();\n    MethodContexts.getPrivateClampViaInternal();\n\n    // Test public methods - this. accessor (basic)\n    MethodContexts.getPublicValue();\n    MethodContexts.getPublicClampValue();\n    MethodContexts.getPublicWrapValue();\n    MethodContexts.getPublicFlag();\n    MethodContexts.getPublicOffset();\n\n    // Test public methods - global. accessor\n    MethodContexts.getGlobalMax();\n    MethodContexts.getGlobalThreshold();\n    MethodContexts.getGlobalCounter();\n    MethodContexts.getGlobalEnabled();\n    MethodContexts.getGlobalOffset();\n    MethodContexts.getGlobalScale();\n\n    // Test public methods - combined this. and global.\n    MethodContexts.computePublicSum();\n    MethodContexts.publicValueBelowMax();\n    MethodContexts.computePublicWithOffset();\n\n    // Test public methods - modify scope variables via this.\n    MethodContexts.setPrivateValue(42);\n    MethodContexts.setPublicValue(84);\n    MethodContexts.setPrivateFlag(true);\n    MethodContexts.setPublicFlag(false);\n\n    // Test public methods - modify clamp/wrap variables\n    MethodContexts.incrementPublicClamp();\n    MethodContexts.incrementPublicWrap();\n\n    // Test comprehensive modification methods\n    MethodContexts.modifyAllPrivate();\n    MethodContexts.modifyAllPublic();\n\n    // Test threshold checks (combined this. and global. in conditions)\n    MethodContexts.checkThresholds();\n    MethodContexts.getAllFlags();\n\n    // Direct access to public variables\n    MethodContexts.publicValue;\n    MethodContexts.publicClampValue;\n    MethodContexts.publicWrapValue;\n    MethodContexts.publicFlag;\n    MethodContexts.publicOffset;\n}\n",
        "last_modified": "2026-01-10T07:02:20.266922"
      },
      "task_intent": {
        "title": "100% Scope Testing Coverage",
        "description": "Expand the C-Next test suite to achieve comprehensive coverage of scope-related functionality including this./global. accessors with all data types, modifier permutations, and error cases.",
        "from_plan": true
      },
      "commits_behind_main": 1,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-09T22:16:23.135221",
  "last_updated": "2026-01-09T22:16:23.136881"
}