// ADR-004: Register access modifiers test
// Tests: rw (read-write), ro (read-only), wo (write-only) modifiers
register PERIPH @ 0x50000000 {
    CTRL: u32 rw @ 0x00, // Read-write: can read and write
    STATUS: u32 ro @ 0x04, // Read-only: can only read
    CMD: u32 wo @ 0x08, // Write-only: can only write
}

void main() {
    // Read-write: both operations allowed
    PERIPH.CTRL <- 0x01;
    u32 ctrl <- PERIPH.CTRL;

    // Read-only: read allowed
    u32 status <- PERIPH.STATUS;

    // Write-only: write allowed
    PERIPH.CMD <- 0xAB;
}
