// test-execution
// Issue #139: Test this.member string assignment in scopes (ADR-016)
scope Logger {
    public string<64> message <- "";
    public void setMessage() {
        this.message <- "Hello from scope";
    }
    public void clear() {
        this.message <- "";
    }
    public void setCustom() {
        this.message <- "Custom";
    }
}

u32 main() {
    Logger.setMessage();
    if (Logger.message.char_count != 16) return 1;

    Logger.clear();
    if (Logger.message.char_count != 0) return 2;

    Logger.setCustom();
    if (Logger.message.char_count != 6) return 3;

    return 0;
}
