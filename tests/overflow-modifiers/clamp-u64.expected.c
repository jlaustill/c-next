/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// ADR-044: Overflow helper functions
#include <limits.h>

static inline uint64_t cnx_clamp_add_u64(uint64_t a, uint64_t b) {
    if (b > UINT64_MAX - a) return UINT64_MAX;
    return a + (uint64_t)b;
}

static inline uint64_t cnx_clamp_sub_u64(uint64_t a, uint64_t b) {
    if (b >= (uint64_t)a) return 0;
    return a - (uint64_t)b;
}

/* test-execution */
// Tests: clamp modifier for u64 type (0 to 18446744073709551615)
// Validates overflow clamps to UINT64_MAX, underflow clamps to 0
// ADR-044: Per-variable overflow semantics
uint32_t main(void) {
    uint64_t val = 18446744073709551610;
    val = cnx_clamp_add_u64(val, 10);
    if (val != 18446744073709551615) return 1;
    val = 18446744073709551615;
    val = cnx_clamp_add_u64(val, 1);
    if (val != 18446744073709551615) return 2;
    val = 18446744073709551600;
    val = cnx_clamp_add_u64(val, 100);
    if (val != 18446744073709551615) return 3;
    val = 18446744073709551610;
    val = cnx_clamp_add_u64(val, 10);
    if (val != 18446744073709551615) return 4;
    val = cnx_clamp_add_u64(val, 1000);
    if (val != 18446744073709551615) return 5;
    val = 50;
    val = cnx_clamp_sub_u64(val, 100);
    if (val != 0) return 6;
    val = 0;
    val = cnx_clamp_sub_u64(val, 1);
    if (val != 0) return 7;
    val = 1000;
    val = cnx_clamp_sub_u64(val, 1000000);
    if (val != 0) return 8;
    val = 5;
    val = cnx_clamp_sub_u64(val, 10);
    if (val != 0) return 9;
    val = cnx_clamp_sub_u64(val, 100);
    if (val != 0) return 10;
    val = 1000000000000;
    val = cnx_clamp_add_u64(val, 500000000000);
    if (val != 1500000000000) return 11;
    val = 1000000000000;
    val = cnx_clamp_sub_u64(val, 300000000000);
    if (val != 700000000000) return 12;
    val = 0;
    val = cnx_clamp_add_u64(val, 9223372036854775807);
    if (val != 9223372036854775807) return 13;
    val = 100000;
    val = cnx_clamp_sub_u64(val, 100000);
    if (val != 0) return 14;
    val = 100;
    val = cnx_clamp_add_u64(val, 50);
    if (val != 150) return 15;
    val = 100;
    val = cnx_clamp_sub_u64(val, 50);
    if (val != 50) return 16;
    val = 9999999999;
    val = cnx_clamp_add_u64(val, 0);
    if (val != 9999999999) return 17;
    val = 9999999999;
    val = cnx_clamp_sub_u64(val, 0);
    if (val != 9999999999) return 18;
    val = 18446744073709551610;
    val = cnx_clamp_add_u64(val, 10);
    if (val != 18446744073709551615) return 19;
    val = cnx_clamp_sub_u64(val, 18446744073709551615);
    if (val != 0) return 20;
    val = cnx_clamp_add_u64(val, 1000);
    if (val != 1000) return 21;
    return 0;
}
