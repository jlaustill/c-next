// test-execution
// ADR-001: Comparison in while loops
// Tests: = operator transpiles to == in while conditions
u32 sumUntilLimit(u32 limit) {
    u32 sum <- 0;
    u32 i <- 0;
    while (i != limit) {
        sum +<- i;
        i +<- 1;
    }
    return sum;
}

u32 main() {
    // Use variables to avoid cppcheck null pointer warning
    u32 five <- 5;
    u32 zero <- 0;
    u32 three <- 3;


// Test sumUntilLimit: 0+1+2+3+4 = 10
    u32 result1 <- sumUntilLimit(five);
    if (result1 != 10) {
        return 1;
    }


// Test sumUntilLimit: 0 = 0
    u32 result2 <- sumUntilLimit(zero);
    if (result2 != 0) {
        return 1;
    }


// Test sumUntilLimit: 0+1+2 = 3
    u32 result3 <- sumUntilLimit(three);
    if (result3 != 3) {
        return 1;
    }

    return 0;
}
