/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// test-execution
// Reproduces issue #68: Real-world serialization pattern
// Bug: config.magic.length evaluates to 0 instead of 32
typedef struct Config {
    uint32_t magic;
    uint8_t version;
} Config;

int main(void) {
    Config config = {0};
    config.magic = 0x12345678;
    config.version = 0x42;
    uint32_t length = 4;
    if (length != 4) return 1;
    length = 1;
    if (length != 1) return 2;
    uint32_t bits = 32;
    if (bits != 32) return 3;
    bits = 8;
    if (bits != 8) return 4;
    return 0;
}
