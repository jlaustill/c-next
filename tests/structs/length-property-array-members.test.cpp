/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// test-execution
// Regression test: .length on struct members that are arrays
// Tests both array.length (element count) and array[i].field.bit_length
typedef struct DataPoint {
    uint32_t timestamp;
    uint16_t value;
    uint8_t quality;
} DataPoint;

typedef struct Dataset {
    uint32_t id;
    DataPoint samples[10];
    uint8_t count;
} Dataset;

int main(void) {
    Dataset data = {0};
    data.id = 12345U;
    data.count = 5U;
    data.samples[0].timestamp = 1000;
    data.samples[0].value = 42;
    data.samples[0].quality = 100;
    if (32 != 32) return 1;
    if (8 != 8) return 2;
    if (10 != 10) return 3;
    if (32 != 32) return 4;
    if (16 != 16) return 5;
    if (8 != 8) return 6;
    uint32_t bytes = 32 / 8U;
    if (bytes != 4) return 7;
    return 0;
}
