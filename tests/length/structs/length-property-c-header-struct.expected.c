/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

// test-execution
// Test .length property on struct members from C headers
// This is the core test for issue #45 - verifies SymbolTable integration
// TestConfig.h defines: typedef struct { uint32_t magic; uint16_t version; uint8_t flags; uint64_t timestamp; } AppConfig;
#include "../../include/TestConfig.h"

#include <stdint.h>

// Also define in C-Next for semantic analysis (actual type comes from C header)
// The code generation should use SymbolTable (C header types), not this definition
typedef struct {
    uint32_t magic;
    uint16_t version;
    uint8_t flags;
    uint64_t timestamp;
} CNextConfig;

int main(void) {
    CNextConfig localCfg = {0};
    localCfg.magic = 0x11111111;
    localCfg.version = 10;
    localCfg.flags = 0xAA;
    localCfg.timestamp = 9999999;
    if (32 != 32) {
        return 1;
    }
    if (16 != 16) {
        return 2;
    }
    if (8 != 8) {
        return 3;
    }
    if (64 != 64) {
        return 4;
    }
    uint8_t magicBytes = 4;
    if (magicBytes != 4) {
        return 5;
    }
    return 0;
}
