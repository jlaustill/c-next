/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

// Issue #465: Test nested includes with enum at deepest level
// A includes B, B includes C (with enum) - C's enum should work in A
// Note: transpile-only because header generation for transitive includes is a separate issue
#include "level1.hpp"

#include <stdint.h>

void setHigh(Config& cfg) {
    cfg.level = ELevel_LEVEL_HIGH;
}

int main(void) {
    Config cfg = (Config){ .level = ELevel_LEVEL_LOW };
    if (cfg.level != ELevel_LEVEL_LOW) return 1;
    cfg.level = ELevel_LEVEL_MEDIUM;
    if (cfg.level != ELevel_LEVEL_MEDIUM) return 2;
    setHigh(cfg);
    if (cfg.level != ELevel_LEVEL_HIGH) return 3;
    return 0;
}
