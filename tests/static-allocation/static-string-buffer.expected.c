/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>
#include <string.h>

/* test-coverage: 29-static-string-buffer */
/* test-execution */
// Tests: Static string buffer allocation
// Global string buffers (statically allocated)
char messageBuffer[65] = "";

char logBuffer[129] = "";

char nameBuffer[33] = "";

// Fixed-size string arrays
char tags[4][17] = {0};

void setMessage(uint32_t* code) {
    if ((*code) == 0) {
        strncpy(messageBuffer, "OK", 64); messageBuffer[64] = '\0';
    }
    if ((*code) == 1) {
        strncpy(messageBuffer, "Warning", 64); messageBuffer[64] = '\0';
    }
    if ((*code) == 2) {
        strncpy(messageBuffer, "Error", 64); messageBuffer[64] = '\0';
    }
}

uint32_t main(void) {
    strncpy(messageBuffer, "Hello", 64); messageBuffer[64] = '\0';
    if (strlen(messageBuffer) != 5) return 1;
    strncpy(nameBuffer, "Test", 32); nameBuffer[32] = '\0';
    if (strlen(nameBuffer) != 4) return 2;
    if (64 != 64) return 3;
    if (128 != 128) return 4;
    if (32 != 32) return 5;
    setMessage(&(uint32_t){0});
    if (strlen(messageBuffer) != 2) return 6;
    setMessage(&(uint32_t){1});
    if (strlen(messageBuffer) != 7) return 7;
    strncpy(tags[0], "tag1", 16);
    strncpy(tags[1], "tag2", 16);
    strncpy(tags[2], "tag3", 16);
    strncpy(tags[3], "tag4", 16);
    if (strlen(tags[0]) != 4) return 8;
    if (strlen(tags[3]) != 4) return 9;
    strncpy(logBuffer, "Initial log entry", 128); logBuffer[128] = '\0';
    strncpy(logBuffer, "New log entry", 128); logBuffer[128] = '\0';
    if (strlen(logBuffer) != 13) return 10;
    return 0;
}
