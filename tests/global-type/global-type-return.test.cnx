// test-execution
// Tests: global.EnumType as function return type inside scope
// Issue #478: global.EnumType not recognized as type reference inside scope

// Define enum in same file to avoid cross-file header conflicts
enum ETestCategory {
    TEST_CAT_A <- 0,
    TEST_CAT_B <- 1,
    TEST_CAT_C <- 2
}

scope TestScope {
    // Return type uses global.ETestCategory
    public global.ETestCategory getCategory() {
        return global.ETestCategory.TEST_CAT_B;
    }
}

u32 main() {
    // Call the function and compare directly
    i32 catValue <- (i32)TestScope.getCategory();

    // Validate the returned value (TEST_CAT_B = 1)
    if (catValue != 1) return 1;

    return 0;
}
