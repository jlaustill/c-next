/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include "const-array-dimensions.test.hpp"

#include <stdint.h>
#include <stdbool.h>

// Tests: Array dimensions using constants should be preserved in extern declarations
// This reproduces issue #455
extern const uint8_t DEVICE_COUNT = 4U;

extern const uint8_t CHANNEL_COUNT = 2U;

// Single dimension with constant - should generate: extern bool enabled[4];
bool enabled[4] = {false, false, false, false};

// Multi-dimensional with constants - should generate: extern TReading readings[4][4];
TReading readings[4][4] = {0};

// Mixed: constant first, literal second - should generate: extern i32 mixed[4][8];
int32_t mixed[4][8] = {0};

// Mixed: literal first, constant second - should generate: extern i32 mixed2[8][4];
int32_t mixed2[8][4] = {0};

// Both dimensions constant - should generate: extern u16 both[4][2];
uint16_t both[4][2] = {0};

// Literal dimension (control case - should already work)
bool literal_arr[4] = {0};

/* Scope: Manager */

void Manager_test(void) {
    enabled[0] = true;
}

int main(void) {
    Manager_test();
}
