/**
 * Generated by C-Next Transpiler from: private-method-validation.test.cnx
 * A safer C for embedded systems
 */

#include "private-method-validation.test.h"

#include <stdint.h>
#include <stdbool.h>

// test-execution
// Test: ADR-016 Private method validation
// Verifies that private methods work correctly within scopes
// Tests: private calling private, private accessing this., private accessing global.
// Note: Avoids passing computed expressions to functions (transpiler generates pointer params)
// Global variables for private method global. access testing
uint32_t globalCounter = 100U;

bool globalFlag = true;

int32_t globalOffset = -50;

/* Scope: PrivateMethodTest */
static uint32_t PrivateMethodTest_privateState = 0U;
static bool PrivateMethodTest_privateFlag = false;
static int32_t PrivateMethodTest_privateAccumulator = 0;
static uint8_t PrivateMethodTest_callCount = 0U;
uint32_t PrivateMethodTest_publicResult = 0U;
bool PrivateMethodTest_publicFlag = false;
int32_t PrivateMethodTest_publicAccumulator = 0;

uint32_t PrivateMethodTest_getPrivateState(void) {
    return PrivateMethodTest_privateState;
}

bool PrivateMethodTest_getPrivateFlag(void) {
    return PrivateMethodTest_privateFlag;
}

int32_t PrivateMethodTest_getPrivateAccumulator(void) {
    return PrivateMethodTest_privateAccumulator;
}

void PrivateMethodTest_incrementCallCount(void) {
    PrivateMethodTest_callCount = PrivateMethodTest_callCount + 1U;
}

uint8_t PrivateMethodTest_getCallCount(void) {
    return PrivateMethodTest_callCount;
}

uint32_t PrivateMethodTest_readGlobalCounter(void) {
    return globalCounter;
}

bool PrivateMethodTest_readGlobalFlag(void) {
    return globalFlag;
}

int32_t PrivateMethodTest_readGlobalOffset(void) {
    return globalOffset;
}

uint32_t PrivateMethodTest_combineStateAndGlobal(void) {
    return PrivateMethodTest_privateState + globalCounter;
}

bool PrivateMethodTest_checkBothFlags(void) {
    return PrivateMethodTest_privateFlag && globalFlag;
}

uint32_t PrivateMethodTest_getStateViaHelper(void) {
    return PrivateMethodTest_getPrivateState();
}

void PrivateMethodTest_performPrivateChain(void) {
    PrivateMethodTest_incrementCallCount();
    PrivateMethodTest_privateState = PrivateMethodTest_privateState + 10U;
    PrivateMethodTest_privateFlag = !PrivateMethodTest_privateFlag;
}

void PrivateMethodTest_addValue(int32_t amount) {
    PrivateMethodTest_privateAccumulator = PrivateMethodTest_privateAccumulator + amount;
    PrivateMethodTest_incrementCallCount();
}

uint32_t PrivateMethodTest_exposePrivateState(void) {
    return PrivateMethodTest_getPrivateState();
}

void PrivateMethodTest_setPrivateState(uint32_t val) {
    PrivateMethodTest_privateState = val;
}

bool PrivateMethodTest_exposePrivateFlag(void) {
    return PrivateMethodTest_getPrivateFlag();
}

void PrivateMethodTest_setPrivateFlag(bool val) {
    PrivateMethodTest_privateFlag = val;
}

int32_t PrivateMethodTest_exposePrivateAccumulator(void) {
    return PrivateMethodTest_getPrivateAccumulator();
}

void PrivateMethodTest_addToAccumulator(int32_t val) {
    PrivateMethodTest_addValue(val);
}

uint32_t PrivateMethodTest_exposeGlobalCounter(void) {
    return PrivateMethodTest_readGlobalCounter();
}

uint32_t PrivateMethodTest_exposeCombinedStateAndGlobal(void) {
    return PrivateMethodTest_combineStateAndGlobal();
}

bool PrivateMethodTest_exposeBothFlagsCheck(void) {
    return PrivateMethodTest_checkBothFlags();
}

uint32_t PrivateMethodTest_exposeStateViaHelper(void) {
    return PrivateMethodTest_getStateViaHelper();
}

uint8_t PrivateMethodTest_exposeCallCount(void) {
    return PrivateMethodTest_getCallCount();
}

void PrivateMethodTest_triggerPrivateChain(void) {
    PrivateMethodTest_performPrivateChain();
}

void PrivateMethodTest_copyPrivateToPublic(void) {
    PrivateMethodTest_publicResult = PrivateMethodTest_getPrivateState();
    PrivateMethodTest_publicFlag = PrivateMethodTest_getPrivateFlag();
    PrivateMethodTest_publicAccumulator = PrivateMethodTest_getPrivateAccumulator();
}

int main(void) {
    uint32_t resultState = PrivateMethodTest_exposePrivateState();
    if (resultState != 0) return 1;
    PrivateMethodTest_setPrivateState(42U);
    resultState = PrivateMethodTest_exposePrivateState();
    if (resultState != 42) return 2;
    bool resultFlag = PrivateMethodTest_exposePrivateFlag();
    if (resultFlag != false) return 3;
    PrivateMethodTest_setPrivateFlag(true);
    resultFlag = PrivateMethodTest_exposePrivateFlag();
    if (resultFlag != true) return 4;
    int32_t resultAccum = PrivateMethodTest_exposePrivateAccumulator();
    if (resultAccum != 0) return 5;
    PrivateMethodTest_addToAccumulator(100);
    resultAccum = PrivateMethodTest_exposePrivateAccumulator();
    if (resultAccum != 100) return 6;
    PrivateMethodTest_addToAccumulator(-30);
    resultAccum = PrivateMethodTest_exposePrivateAccumulator();
    if (resultAccum != 70) return 7;
    uint32_t resultCounter = PrivateMethodTest_exposeGlobalCounter();
    if (resultCounter != 100) return 8;
    uint32_t resultCombined = PrivateMethodTest_exposeCombinedStateAndGlobal();
    if (resultCombined != 142) return 9;
    bool resultBothFlags = PrivateMethodTest_exposeBothFlagsCheck();
    if (resultBothFlags != true) return 10;
    PrivateMethodTest_setPrivateFlag(false);
    resultBothFlags = PrivateMethodTest_exposeBothFlagsCheck();
    if (resultBothFlags != false) return 11;
    uint32_t resultHelper = PrivateMethodTest_exposeStateViaHelper();
    if (resultHelper != 42) return 12;
    PrivateMethodTest_setPrivateState(990U);
    resultState = PrivateMethodTest_exposePrivateState();
    if (resultState != 990) return 13;
    uint8_t resultCallCount = PrivateMethodTest_exposeCallCount();
    if (resultCallCount != 2) return 14;
    PrivateMethodTest_triggerPrivateChain();
    resultState = PrivateMethodTest_exposePrivateState();
    if (resultState != 1000) return 15;
    resultFlag = PrivateMethodTest_exposePrivateFlag();
    if (resultFlag != true) return 16;
    resultCallCount = PrivateMethodTest_exposeCallCount();
    if (resultCallCount != 3) return 17;
    PrivateMethodTest_setPrivateState(777U);
    PrivateMethodTest_setPrivateFlag(true);
    PrivateMethodTest_copyPrivateToPublic();
    if (PrivateMethodTest_publicResult != 777) return 18;
    if (PrivateMethodTest_publicFlag != true) return 19;
    if (PrivateMethodTest_publicAccumulator != 70) return 20;
    return 0;
}
