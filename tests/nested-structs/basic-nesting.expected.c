/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// ADR-032: Basic Nested Struct Test
// Tests: struct member with struct type, chained member access
typedef struct {
    int32_t x;
    int32_t y;
} Point;

typedef struct {
    Point start;
    Point end;
} Line;

typedef struct {
    Point topLeft;
    Point bottomRight;
} Rectangle;

// Global nested struct instance
Line segment = (Line){ .start = (Point){ .x = 0, .y = 0 }, .end = (Point){ .x = 100, .y = 100 } };

Rectangle bounds = (Rectangle){ .topLeft = (Point){ .x = 10, .y = 20 }, .bottomRight = (Point){ .x = 110, .y = 120 } };

int main(void) {
    int32_t startX = segment.start.x;
    int32_t startY = segment.start.y;
    int32_t endX = segment.end.x;
    int32_t endY = segment.end.y;
    int32_t width = bounds.bottomRight.x - bounds.topLeft.x;
    int32_t height = bounds.bottomRight.y - bounds.topLeft.y;
    return 0;
}
