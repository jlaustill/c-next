// ADR-045: Test repeated .char_count usage
// TODO: Future optimization - cache strlen() when .char_count is used multiple times
// Current behavior: each .char_count generates a separate strlen() call
// Optimized behavior: generate a temp variable to cache the length
string<64> text <- "Hello World";

void test() {
    // Multiple uses of .char_count in same scope
    // Currently generates 3 strlen() calls - could be optimized to 1
    if (text.char_count > 0 && text[text.char_count - 1] = 'd') {
        text[text.char_count - 1] <- 'D';
    }
}
