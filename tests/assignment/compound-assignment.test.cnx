// test-execution
// ADR-001: Compound assignment operators
// Tests: compound assignment with <- syntax
u32 testCompound() {
    u32 val <- 10;

    val +<- 5; // val = 15
    val -<- 3; // val = 12
    val *<- 2; // val = 24
    val /<- 4; // val = 6
    val %<- 3; // val = 0

    return val;
}

u32 testBitwise() {
    u32 flags <- 0xFF;

    flags &<- 0x0F; // flags = 0x0F
    flags |<- 0xF0; // flags = 0xFF
    flags ^<- 0x55; // flags = 0xAA
    flags <<<- 2; // flags = 0x2A8
    flags >><- 1; // flags = 0x154

    return flags;
}

u32 main() {
    // testCompound: (10+5-3)*2/4%3 = 0
    u32 result1 <- testCompound();
    if (result1 != 0) {
        return 1;
    }

    // testBitwise: 0xFF & 0x0F | 0xF0 ^ 0x55 << 2 >> 1 = 0x154
    u32 result2 <- testBitwise();
    if (result2 != 0x154) {
        return 1;
    }

    return 0;
}
