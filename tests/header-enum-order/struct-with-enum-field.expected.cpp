/**
 * Generated by C-Next Transpiler from: struct-with-enum-field.test.cnx
 * A safer C for embedded systems
 */

#include <stdint.h>

// Test header generation order: enums before structs
// Issue #449: Structs containing enum fields need enums defined first
// This test verifies the generated header has correct declaration order
typedef enum {
    EPressureType_PRESSURE_TYPE_PSIA = 0,
    EPressureType_PRESSURE_TYPE_PSIG = 1
} EPressureType;

typedef enum {
    EDeviceState_STATE_IDLE = 0,
    EDeviceState_STATE_RUNNING = 1,
    EDeviceState_STATE_ERROR = 2
} EDeviceState;

typedef struct TPressureInputConfig {
    uint16_t assignedSpn;
    EPressureType pressureType;
} TPressureInputConfig;

typedef struct TDeviceStatus {
    uint32_t deviceId;
    EDeviceState state;
    uint8_t errorCode;
} TDeviceStatus;

int main(void) {
    TPressureInputConfig config = {0};
    config.assignedSpn = 100U;
    config.pressureType = EPressureType_PRESSURE_TYPE_PSIA;
    TDeviceStatus status = {0};
    status.deviceId = 1U;
    status.state = EDeviceState_STATE_IDLE;
}
