/**
 * Generated by C-Next Transpiler from: compound-assign-bug.test.cnx
 * A safer C for embedded systems
 */

#include <stdint.h>

// Regression test: Compound assignment on array-of-struct member
// Verifies arr[i].field +<- value generates += correctly (was losing the +=)
typedef struct Counter {
    int32_t value;
} Counter;

Counter counters[2] = {0};

int main(void) {
    counters[0].value = 100;
    counters[1].value = 200;
    counters[0].value += 10;
    counters[1].value -= 50;
    if (counters[0U].value != 110) {
        return 1;
    }
    if (counters[1U].value != 150) {
        return 1;
    }
    return 0;
}
