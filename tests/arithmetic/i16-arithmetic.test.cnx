/* test-execution */ // Test i16 arithmetic operations
// Coverage: Section 4.1-4.5 for i16 type
u32 main() {
    // Addition - basic
    i16 a <- 5000;
    i16 b <- 3000;
    i16 sum <- a + b; // 8000

    // Addition - negative + positive
    i16 c <- -5000;
    i16 d <- 3000;
    i16 sum_neg <- c + d; // -2000

    // Addition - negative + negative
    i16 e <- -4000;
    i16 f <- -2000;
    i16 sum_both_neg <- e + f; // -6000

    // Subtraction - basic
    i16 g <- 5000;
    i16 h <- 3000;
    i16 diff <- g - h; // 2000

    // Subtraction - negative result
    i16 i <- 3000;
    i16 j <- 5000;
    i16 diff_neg <- i - j; // -2000

    // Subtraction - with negatives
    i16 k <- -3000;
    i16 l <- 2000;
    i16 diff_mixed <- k - l; // -5000

    // Multiplication - basic
    i16 m <- 100;
    i16 n <- 50;
    i16 product <- m * n; // 5000

    // Multiplication - negative
    i16 o <- -100;
    i16 p <- 50;
    i16 product_neg <- o * p; // -5000

    // Multiplication - negative * negative
    i16 q <- -100;
    i16 r <- -50;
    i16 product_pos <- q * r; // 5000

    // Division - basic
    i16 s <- 6000;
    i16 t <- 3;
    i16 quotient <- s / t; // 2000

    // Division - negative
    i16 u <- -6000;
    i16 v <- 3;
    i16 quotient_neg <- u / v; // -2000

    // Division - negative divisor
    i16 w <- 6000;
    i16 x <- -3;
    i16 quotient_neg_div <- w / x; // -2000

    // Modulo - basic
    i16 y <- 1023;
    i16 z <- 50;
    i16 remainder <- y % z; // 23

    // Modulo - negative (C semantics: result has sign of dividend)
    i16 aa <- -1023;
    i16 bb <- 50;
    i16 remainder_neg <- aa % bb; // -23

    // Edge cases - max positive
    i16 max_val <- 32767;
    i16 one <- 1;
    i16 max_minus_one <- max_val - one; // 32766

    // Edge cases - min negative
    i16 min_val <- -32768;
    i16 min_plus_one <- min_val + one; // -32767

    // Verify all results
    if (sum = 8000 && sum_neg = -2000 && sum_both_neg = -6000) {
        if (diff = 2000 && diff_neg = -2000 && diff_mixed = -5000) {
            if (product = 5000 && product_neg = -5000 && product_pos = 5000) {
                if (quotient = 2000 && quotient_neg = -2000 && quotient_neg_div = -2000) {
                    if (remainder = 23 && remainder_neg = -23) {
                        if (max_minus_one = 32766 && min_plus_one = -32767) {
                            return 0; // All tests passed
                        }
                    }
                }
            }
        }
    }
    return 1; // Test failed
}
