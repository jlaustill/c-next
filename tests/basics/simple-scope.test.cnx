// test-execution
// Tests: Basic scope (module) definition
// Demonstrates: scope keyword, public functions, state encapsulation

// Simple counter scope
scope Counter {
    u32 value;

    public void reset() {
        value <- 0;
    }

    public void increment() {
        value <- value + 1;
    }

    public void add(u32 amount) {
        value <- value + amount;
    }

    public u32 get() {
        return value;
    }
}

// Scope with initialization
scope Temperature {
    i32 celsius;

    public void set(i32 temp) {
        celsius <- temp;
    }

    public i32 getCelsius() {
        return celsius;
    }

    public i32 getFahrenheit() {
        return (celsius * 9 / 5) + 32;
    }
}

u32 main() {
    // Use Counter scope
    Counter.reset();
    u32 val <- Counter.get();
    if (val != 0) return 1;

    Counter.increment();
    val <- Counter.get();
    if (val != 1) return 2;

    Counter.increment();
    Counter.increment();
    val <- Counter.get();
    if (val != 3) return 3;

    Counter.add(10);
    val <- Counter.get();
    if (val != 13) return 4;

    Counter.reset();
    val <- Counter.get();
    if (val != 0) return 5;

    // Use Temperature scope
    Temperature.set(25);
    i32 celsius <- Temperature.getCelsius();
    if (celsius != 25) return 6;

    i32 fahrenheit <- Temperature.getFahrenheit();
    if (fahrenheit != 77) return 7;

    Temperature.set(0);
    fahrenheit <- Temperature.getFahrenheit();
    if (fahrenheit != 32) return 8;

    return 0;
}
