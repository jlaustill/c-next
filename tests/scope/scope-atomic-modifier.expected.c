/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

// Test: ADR-016 + ADR-049 Atomic variables inside scopes
// Verifies that atomic modifier works correctly with integer types inside scope methods
// Tests: atomic variables accessed via this. accessor with compound assignment operators

#include <stdint.h>

/* Scope: AtomicTest */
uint8_t AtomicTest_counterU8 = 0;
uint16_t AtomicTest_counterU16 = 0;
uint32_t AtomicTest_counterU32 = 0;
uint8_t AtomicTest_brightness = 100;
uint16_t AtomicTest_position = 500;
uint32_t AtomicTest_ticks = 0;

uint8_t AtomicTest_getCounterU8(void) {
    return AtomicTest_counterU8;
}

uint16_t AtomicTest_getCounterU16(void) {
    return AtomicTest_counterU16;
}

uint32_t AtomicTest_getCounterU32(void) {
    return AtomicTest_counterU32;
}

uint8_t AtomicTest_getBrightness(void) {
    return AtomicTest_brightness;
}

uint16_t AtomicTest_getPosition(void) {
    return AtomicTest_position;
}

uint32_t AtomicTest_getTicks(void) {
    return AtomicTest_ticks;
}

void AtomicTest_incrementU8(void) {
    AtomicTest_counterU8 += 1;
}

void AtomicTest_incrementU16(void) {
    AtomicTest_counterU16 += 1;
}

void AtomicTest_incrementU32(void) {
    AtomicTest_counterU32 += 1;
}

void AtomicTest_decrementBrightness(void) {
    AtomicTest_brightness -= 10;
}

void AtomicTest_decrementPosition(void) {
    AtomicTest_position -= 50;
}

void AtomicTest_maskTicks(void) {
    AtomicTest_ticks &= 0xFFFF;
}

void AtomicTest_setTickFlag(void) {
    AtomicTest_ticks |= 0x80000000;
}

void AtomicTest_incrementAll(void) {
    AtomicTest_counterU8 += 1;
    AtomicTest_counterU16 += 1;
    AtomicTest_counterU32 += 1;
    AtomicTest_ticks += 1;
}

void main(void) {
    AtomicTest_getCounterU8();
    AtomicTest_getCounterU16();
    AtomicTest_getCounterU32();
    AtomicTest_getBrightness();
    AtomicTest_getPosition();
    AtomicTest_getTicks();
    AtomicTest_incrementU8();
    AtomicTest_incrementU16();
    AtomicTest_incrementU32();
    AtomicTest_decrementBrightness();
    AtomicTest_decrementPosition();
    AtomicTest_maskTicks();
    AtomicTest_setTickFlag();
    AtomicTest_incrementAll();
}
