/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

// tests/functions/enum-bool-member-cpp.test.cnx
/* test-execution */
// Tests: Issue #252 - enum and bool types not converted to u8
// In C++ mode, bool* and enum* cannot convert to uint8_t*
// Must use static_cast<uint8_t>() with temp variable
#include "enum-bool-member-cpp.h"

#include <stdint.h>
#include <stdbool.h>

uint32_t process(const uint32_t* crc, const uint8_t* byte) {
    return (*crc) ^ (*byte);
}

uint32_t testEnumBoolMembers(const SensorConfig* cfg) {
    uint32_t crc = 0;
    uint8_t _cnx_tmp_0 = static_cast<uint8_t>((*cfg).enabled);
    crc = process(&crc, &_cnx_tmp_0);
    uint8_t _cnx_tmp_1 = static_cast<uint8_t>((*cfg).pressureType);
    crc = process(&crc, &_cnx_tmp_1);
    uint8_t _cnx_tmp_2 = static_cast<uint8_t>((*cfg).thermocoupleType);
    crc = process(&crc, &_cnx_tmp_2);
    uint8_t _cnx_tmp_3 = static_cast<uint8_t>((*cfg).value);
    crc = process(&crc, &_cnx_tmp_3);
    return crc;
}

int main(void) {
    SensorConfig cfg = {0};
    cfg.enabled = true;
    cfg.pressureType = PRESSURE_HIGH;
    cfg.thermocoupleType = TC_TYPE_J;
    cfg.value = 4;
    uint32_t result = testEnumBoolMembers(&cfg);
    if (result != 6) return 1;
    return 0;
}
