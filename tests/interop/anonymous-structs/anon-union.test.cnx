// test-cpp-only
// test-execution
// Test: Anonymous union inside struct
#include "anon_types.h"

i32 main() {
    // Test 1: Anonymous union - int variant
    Variant v1 <- {
        type: 1,
        data: { int_val: 42 }
    };

    if (v1.type != 1) return 1;
    if (v1.data.int_val != 42) return 2;

    // Test 2: Anonymous union - nested struct variant
    Variant v2 <- {
        type: 3,
        data: { point: { x: 100, y: 200 } }
    };

    if (v2.type != 3) return 3;
    if (v2.data.point.x != 100) return 4;
    if (v2.data.point.y != 200) return 5;

    return 0;
}
