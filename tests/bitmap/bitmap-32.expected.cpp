/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>
#include <stdbool.h>

// test-coverage: 11-bitmap32
// test-execution
// Tests: 32-bit bitmap type
// 32-bit bitmap for IP address representation
/* Bitmap: IPv4Address */
/* Fields:
 *   Octet1: bits 0-7 (8 bits)
 *   Octet2: bits 8-15 (8 bits)
 *   Octet3: bits 16-23 (8 bits)
 *   Octet4: bits 24-31 (8 bits)
 */
typedef uint32_t IPv4Address;

// 32-bit bitmap for status register
/* Bitmap: DeviceStatus */
/* Fields:
 *   Power: bit 0 (1 bit)
 *   Ready: bit 1 (1 bit)
 *   Error: bit 2 (1 bit)
 *   Warning: bit 3 (1 bit)
 *   Mode: bits 4-7 (4 bits)
 *   ErrorCode: bits 8-15 (8 bits)
 *   Version: bits 16-23 (8 bits)
 *   Reserved: bits 24-31 (8 bits)
 */
typedef uint32_t DeviceStatus;

// 32-bit bitmap with larger fields
/* Bitmap: Configuration */
/* Fields:
 *   Flags: bits 0-7 (8 bits)
 *   Address: bits 8-23 (16 bits)
 *   Checksum: bits 24-31 (8 bits)
 */
typedef uint32_t Configuration;

IPv4Address ip = 0;

DeviceStatus status = 0;

Configuration config = 0;

int main(void) {
    ip = (ip & ~(0xFF << 0)) | ((192 & 0xFF) << 0);
    ip = (ip & ~(0xFF << 8)) | ((168 & 0xFF) << 8);
    ip = (ip & ~(0xFF << 16)) | ((1 & 0xFF) << 16);
    ip = (ip & ~(0xFF << 24)) | ((100 & 0xFF) << 24);
    if (((ip >> 0) & 0xFF) != 192) return 1;
    if (((ip >> 8) & 0xFF) != 168) return 2;
    if (((ip >> 16) & 0xFF) != 1) return 3;
    if (((ip >> 24) & 0xFF) != 100) return 4;
    status = (status & ~(1 << 0)) | (1 << 0);
    status = (status & ~(1 << 1)) | (1 << 1);
    status = (status & ~(1 << 2)) | (0 << 2);
    status = (status & ~(1 << 3)) | (1 << 3);
    if (((status >> 0) & 1) != true) return 5;
    if (((status >> 1) & 1) != true) return 6;
    if (((status >> 2) & 1) != false) return 7;
    if (((status >> 3) & 1) != true) return 8;
    status = (status & ~(0xF << 4)) | ((7 & 0xF) << 4);
    status = (status & ~(0xFF << 8)) | ((0x5A & 0xFF) << 8);
    status = (status & ~(0xFF << 16)) | ((12 & 0xFF) << 16);
    if (((status >> 4) & 0xF) != 7) return 9;
    if (((status >> 8) & 0xFF) != 0x5A) return 10;
    if (((status >> 16) & 0xFF) != 12) return 11;
    config = (config & ~(0xFF << 0)) | ((0xFF & 0xFF) << 0);
    config = (config & ~(0xFFFF << 8)) | ((0x1234 & 0xFFFF) << 8);
    config = (config & ~(0xFF << 24)) | ((0xAB & 0xFF) << 24);
    if (((config >> 0) & 0xFF) != 0xFF) return 12;
    if (((config >> 8) & 0xFFFF) != 0x1234) return 13;
    if (((config >> 24) & 0xFF) != 0xAB) return 14;
    uint8_t oct1 = ((ip >> 0) & 0xFF);
    if (oct1 != 192) return 15;
    uint16_t addr = ((config >> 8) & 0xFFFF);
    if (addr != 0x1234) return 16;
    ip = (ip & ~(0xFF << 16)) | ((0 & 0xFF) << 16);
    if (((ip >> 0) & 0xFF) != 192) return 17;
    if (((ip >> 8) & 0xFF) != 168) return 18;
    if (((ip >> 16) & 0xFF) != 0) return 19;
    if (((ip >> 24) & 0xFF) != 100) return 20;
    status = (status & ~(0xF << 4)) | ((15 & 0xF) << 4);
    status = (status & ~(0xFF << 8)) | ((255 & 0xFF) << 8);
    if (((status >> 4) & 0xF) != 15) return 21;
    if (((status >> 8) & 0xFF) != 255) return 22;
    return 0;
}
