// ADR-032: Basic Nested Struct Test
// Tests: struct member with struct type, chained member access
struct Point {
    i32 x;
    i32 y;
}

struct Line {
    Point start;
    Point end;
}

struct Rectangle {
    Point topLeft;
    Point bottomRight;
}

// Global nested struct instance
Line segment <- {start: {x: 0, y: 0}, end: {x: 100, y: 100}};

Rectangle bounds <- {topLeft: {x: 10, y: 20}, bottomRight: {x: 110, y: 120}};

i32 main() {
    // Read nested members
    i32 startX <- segment.start.x;
    i32 startY <- segment.start.y;
    i32 endX <- segment.end.x;
    i32 endY <- segment.end.y;

    // Calculate width using nested access
    i32 width <- bounds.bottomRight.x - bounds.topLeft.x;
    i32 height <- bounds.bottomRight.y - bounds.topLeft.y;

    return 0;
}
