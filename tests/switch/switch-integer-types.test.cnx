/* test-execution */
// ADR-025: Switch statement test for all integer types
// Tests: u8, u16, u32, u64, i8, i16, i32, i64 switch expressions
// Coverage: Section 7 (Control Flow) - switch with all integer types

u32 result;

// === UNSIGNED TYPE HELPERS ===

void testSwitchU8(u8 val) {
    switch (val) {
        case 0 { result <- 100; }
        case 10 { result <- 110; }
        case 255 { result <- 355; }
        default { result <- 999; }
    }
}

void testSwitchU16(u16 val) {
    switch (val) {
        case 0 { result <- 200; }
        case 1000 { result <- 1200; }
        case 65535 { result <- 65735; }
        default { result <- 999; }
    }
}

void testSwitchU32(u32 val) {
    switch (val) {
        case 0 { result <- 300; }
        case 1000000 { result <- 1000300; }
        default { result <- 999; }
    }
}

void testSwitchU64(u64 val) {
    switch (val) {
        case 0 { result <- 400; }
        case 1000000000000 { result <- 401; }
        default { result <- 999; }
    }
}

// === SIGNED TYPE HELPERS ===
// Note: Case labels must use positive literals (grammar limitation).
// Signed types are still tested - negative values fall to default.

void testSwitchI8(i8 val) {
    switch (val) {
        case 0 { result <- 500; }
        case 50 { result <- 501; }
        case 127 { result <- 502; }
        default { result <- 999; }
    }
}

void testSwitchI16(i16 val) {
    switch (val) {
        case 0 { result <- 600; }
        case 5000 { result <- 601; }
        case 32767 { result <- 602; }
        default { result <- 999; }
    }
}

void testSwitchI32(i32 val) {
    switch (val) {
        case 0 { result <- 700; }
        case 1000000 { result <- 701; }
        case 2000000 { result <- 702; }
        default { result <- 999; }
    }
}

void testSwitchI64(i64 val) {
    switch (val) {
        case 0 { result <- 800; }
        case 5000000000 { result <- 801; }
        case 9000000000 { result <- 802; }
        default { result <- 999; }
    }
}

u32 main() {
    // === U8 TESTS (4 validations: codes 1-4) ===
    u8 u8_zero <- 0;
    u8 u8_ten <- 10;
    u8 u8_max <- 255;
    u8 u8_other <- 50;

    testSwitchU8(u8_zero);
    if (result != 100) return 1;

    testSwitchU8(u8_ten);
    if (result != 110) return 2;

    testSwitchU8(u8_max);
    if (result != 355) return 3;

    testSwitchU8(u8_other);
    if (result != 999) return 4;

    // === U16 TESTS (4 validations: codes 5-8) ===
    u16 u16_zero <- 0;
    u16 u16_mid <- 1000;
    u16 u16_max <- 65535;
    u16 u16_other <- 5000;

    testSwitchU16(u16_zero);
    if (result != 200) return 5;

    testSwitchU16(u16_mid);
    if (result != 1200) return 6;

    testSwitchU16(u16_max);
    if (result != 65735) return 7;

    testSwitchU16(u16_other);
    if (result != 999) return 8;

    // === U32 TESTS (3 validations: codes 9-11) ===
    u32 u32_zero <- 0;
    u32 u32_mid <- 1000000;
    u32 u32_other <- 12345;

    testSwitchU32(u32_zero);
    if (result != 300) return 9;

    testSwitchU32(u32_mid);
    if (result != 1000300) return 10;

    testSwitchU32(u32_other);
    if (result != 999) return 11;

    // === U64 TESTS (3 validations: codes 12-14) ===
    u64 u64_zero <- 0;
    u64 u64_large <- 1000000000000;
    u64 u64_other <- 9999;

    testSwitchU64(u64_zero);
    if (result != 400) return 12;

    testSwitchU64(u64_large);
    if (result != 401) return 13;

    testSwitchU64(u64_other);
    if (result != 999) return 14;

    // === I8 TESTS (4 validations: codes 15-18) ===
    // Note: Negative values fall to default (case labels don't support negative literals)
    i8 i8_zero <- 0;
    i8 i8_mid <- 50;
    i8 i8_max <- 127;
    i8 i8_neg <- -50;

    testSwitchI8(i8_zero);
    if (result != 500) return 15;

    testSwitchI8(i8_mid);
    if (result != 501) return 16;

    testSwitchI8(i8_max);
    if (result != 502) return 17;

    testSwitchI8(i8_neg);
    if (result != 999) return 18;

    // === I16 TESTS (4 validations: codes 19-22) ===
    i16 i16_zero <- 0;
    i16 i16_mid <- 5000;
    i16 i16_max <- 32767;
    i16 i16_neg <- -5000;

    testSwitchI16(i16_zero);
    if (result != 600) return 19;

    testSwitchI16(i16_mid);
    if (result != 601) return 20;

    testSwitchI16(i16_max);
    if (result != 602) return 21;

    testSwitchI16(i16_neg);
    if (result != 999) return 22;

    // === I32 TESTS (4 validations: codes 23-26) ===
    i32 i32_zero <- 0;
    i32 i32_mid <- 1000000;
    i32 i32_high <- 2000000;
    i32 i32_neg <- -1000000;

    testSwitchI32(i32_zero);
    if (result != 700) return 23;

    testSwitchI32(i32_mid);
    if (result != 701) return 24;

    testSwitchI32(i32_high);
    if (result != 702) return 25;

    testSwitchI32(i32_neg);
    if (result != 999) return 26;

    // === I64 TESTS (4 validations: codes 27-30) ===
    i64 i64_zero <- 0;
    i64 i64_mid <- 5000000000;
    i64 i64_high <- 9000000000;
    i64 i64_neg <- -5000000000;

    testSwitchI64(i64_zero);
    if (result != 800) return 27;

    testSwitchI64(i64_mid);
    if (result != 801) return 28;

    testSwitchI64(i64_high);
    if (result != 802) return 29;

    testSwitchI64(i64_neg);
    if (result != 999) return 30;

    return 0;
}
