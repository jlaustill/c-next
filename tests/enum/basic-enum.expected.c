/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

/* test-coverage: 3.1-enum-enum-same-type */
/* test-execution */
// ADR-017: Basic Enum Test
// Tests basic enum declaration, usage, and code generation
// Simple enum with auto-incrementing values
typedef enum {
    State_IDLE = 0,
    State_RUNNING = 1,
    State_PAUSED = 2,
    State_ERROR = 3
} State;

// Enum with explicit values
typedef enum {
    Command_READ = 1,
    Command_WRITE = 2,
    Command_ERASE = 4,
    Command_RESET = 255
} Command;

// Enum with bit flag pattern
typedef enum {
    Flags_NONE = 0,
    Flags_READABLE = 1,
    Flags_WRITABLE = 2,
    Flags_EXECUTABLE = 4
} Flags;

State currentState = State_IDLE;

Command lastCmd = Command_READ;

uint32_t main(void) {
    if ((uint32_t)State_IDLE != 0) {
        return 1;
    }
    if ((uint32_t)State_RUNNING != 1) {
        return 2;
    }
    if ((uint32_t)Command_ERASE != 0x04) {
        return 3;
    }
    if ((uint32_t)Command_RESET != 0xFF) {
        return 4;
    }
    currentState = State_RUNNING;
    if (currentState != State_RUNNING) {
        return 5;
    }
    return 0;
}
