/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

/* test-execution */
// Tests: Issue #250 - rvalue expressions in C++ mode
// C++ compound literals are rvalues, can't take address
//
// This test includes a C++ header (typed enum) to force g++ compilation.
// The compound literal syntax &(uint8_t){...} is invalid in C++.
#include "rvalue-arg-cpp.h"

#include <stdint.h>

uint32_t process(const uint32_t* crc, const uint8_t* byte) {
    return (*crc) ^ (*byte);
}

int main(void) {
    uint32_t value = 0x12345678;
    uint32_t crc = 0;
    uint8_t _cnx_tmp_0 = value & 0xFF;
    crc = process(&crc, &_cnx_tmp_0);
    if (crc != 0x78) return 1;
    uint8_t a = 10;
    uint8_t b = 5;
    crc = 0;
    uint8_t _cnx_tmp_1 = a + b;
    crc = process(&crc, &_cnx_tmp_1);
    if (crc != 15) return 2;
    return 0;
}
