/**
 * Generated by C-Next Transpiler from: builtin-safe-div-valid.test.cnx
 * A safer C for embedded systems
 */

#include <stdint.h>

// ADR-051: Safe division helper functions
#include <stdbool.h>

static inline bool cnx_safe_div_u32(uint32_t* output, uint32_t numerator, uint32_t divisor, uint32_t defaultValue) {
    if (divisor == 0) {
        *output = defaultValue;
        return true;  // Error occurred
    }
    *output = numerator / divisor;
    return false;  // Success
}

static inline bool cnx_safe_mod_u32(uint32_t* output, uint32_t numerator, uint32_t divisor, uint32_t defaultValue) {
    if (divisor == 0) {
        *output = defaultValue;
        return true;  // Error occurred
    }
    *output = numerator % divisor;
    return false;  // Success
}

// ADR-030/ADR-051: Built-in functions don't need definition
// Tests: safe_div and safe_mod are recognized as built-ins
int main(void) {
    uint32_t result = 0;
    cnx_safe_div_u32(&result, 100, 0, 999);
    cnx_safe_mod_u32(&result, 100, 0, 0);
}
