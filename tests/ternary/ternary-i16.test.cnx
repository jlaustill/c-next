// test-execution
// ADR-022: Ternary operator test for i16
// Tests: ternary with i16 in conditions and branches, including negative values
i16 getMax(i16 a, i16 b) {
    return (a > b) ? a : b;
}

i16 getMin(i16 a, i16 b) {
    return (a < b) ? a : b;
}

i16 getAbs(i16 x) {
    return (x < 0) ? -x : x;
}

u32 main() {
    i16 a <- 100;
    i16 b <- 200;
    i16 c <- -300;
    i16 d <- -50;


// Test max function with positive values
    i16 maxResult1 <- getMax(a, b);
    if (maxResult1 != 200) {
        return 1;
    }


// Test max with negative values
    i16 maxResult2 <- getMax(c, d);
    if (maxResult2 != -50) {
        return 2;
    }


// Test min function with positive values
    i16 minResult1 <- getMin(a, b);
    if (minResult1 != 100) {
        return 3;
    }


// Test min with negative values
    i16 minResult2 <- getMin(c, d);
    if (minResult2 != -300) {
        return 4;
    }


// Test abs function
    i16 absResult1 <- getAbs(c);
    if (absResult1 != 300) {
        return 5;
    }
    i16 absResult2 <- getAbs(a);
    if (absResult2 != 100) {
        return 6;
    }


// Test inline ternary with negative comparison
    i16 result <- (a > c) ? a : c;
    if (result != 100) {
        return 7;
    }


// Test with edge cases - max value
    i16 max_val <- 32767;
    i16 mid_val <- 1000;
    i16 edge_result <- (max_val > mid_val) ? max_val : mid_val;
    if (edge_result != 32767) {
        return 8;
    }


// Test with edge cases - min value
    i16 min_val <- -32768;
    i16 neg_mid <- -1000;
    i16 min_result <- (min_val < neg_mid) ? min_val : neg_mid;
    if (min_result != -32768) {
        return 9;
    }


// Test equality condition with negative
    i16 equal_test <- (c = -300) ? 1000 : -1000;
    if (equal_test != 1000) {
        return 10;
    }


// Test zero crossing
    i16 neg <- -1000;
    i16 pos <- 1000;
    i16 zero_cross <- (neg < 0) ? pos : neg;
    if (zero_cross != 1000) {
        return 11;
    }


// Test with larger range values
    i16 large_neg <- -30000;
    i16 large_pos <- 30000;
    i16 large_result <- (large_neg < large_pos) ? large_pos : large_neg;
    if (large_result != 30000) {
        return 12;
    }

    return 0;
}
