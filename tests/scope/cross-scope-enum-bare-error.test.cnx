// test-execution
// Test: Enum access from inside a scope works without global. when unambiguous
// Issue #774: global. prefix only required when there's a naming conflict

enum GlobalState { IDLE, RUNNING, STOPPED }

scope Motor {
    public GlobalState test() {
        // No conflict - GlobalState is unambiguous (no scope member named GlobalState)
        GlobalState current <- GlobalState.IDLE;
        return current;
    }
}

u32 main() {
    GlobalState result <- Motor.test();
    if (result != GlobalState.IDLE) { return 1; }
    return 0;
}
