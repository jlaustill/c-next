/* test-execution */
// Issue #107: Negative Literals in Switch Case Labels
// Tests: switch statement with negative integer literals

i32 result;

void handleValue(i8 val) {
    switch (val) {
        case -128 {
            result <- 1;
        }
        case -1 {
            result <- 2;
        }
        case 0 {
            result <- 3;
        }
        case 127 {
            result <- 4;
        }
        default {
            result <- 9;
        }
    }
}

// Test negative hex literals
void handleHex(i16 val) {
    switch (val) {
        case -0x80 {
            result <- 10;
        }
        case -0x01 {
            result <- 20;
        }
        case 0x00 {
            result <- 30;
        }
        default {
            result <- 99;
        }
    }
}

u32 main() {
    i8 minI8 <- -128;
    i8 negOne <- -1;
    i8 zero <- 0;
    i8 maxI8 <- 127;
    i8 other <- 50;

    // Test i8 negative cases
    handleValue(minI8);
    if (result != 1) return 1;

    handleValue(negOne);
    if (result != 2) return 2;

    handleValue(zero);
    if (result != 3) return 3;

    handleValue(maxI8);
    if (result != 4) return 4;

    handleValue(other);
    if (result != 9) return 5;

    // Test negative hex cases
    i16 negHex80 <- -128;
    i16 negHex01 <- -1;
    i16 zeroHex <- 0;
    i16 otherHex <- 100;

    handleHex(negHex80);
    if (result != 10) return 6;

    handleHex(negHex01);
    if (result != 20) return 7;

    handleHex(zeroHex);
    if (result != 30) return 8;

    handleHex(otherHex);
    if (result != 99) return 9;

    return 0;
}
