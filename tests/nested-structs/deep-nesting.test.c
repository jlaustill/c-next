/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// ADR-032: Deep Nested Struct Test
// Tests: 3+ levels of nesting
typedef struct Color {
    uint8_t r;
    uint8_t g;
    uint8_t b;
} Color;

typedef struct Material {
    Color ambient;
    Color diffuse;
    Color specular;
    float shininess;
} Material;

typedef struct Mesh {
    Material material;
    uint32_t vertexCount;
} Mesh;

// 3-level deep initialization
Mesh cube = (Mesh){ .material = (Material){ .ambient = (Color){ .r = 50U, .g = 50U, .b = 50U }, .diffuse = (Color){ .r = 200U, .g = 100U, .b = 50U }, .specular = (Color){ .r = 255U, .g = 255U, .b = 255U }, .shininess = 32.0 }, .vertexCount = 36U };

int main(void) {
    uint8_t ambientRed = cube.material.ambient.r;
    uint8_t diffuseGreen = cube.material.diffuse.g;
    uint8_t specularBlue = cube.material.specular.b;
    float shine = cube.material.shininess;
    return 0;
}
