/* test-execution */
// Tests: Bit range widths 1-31 on u64 type
// Verifies correct mask generation and bit operations
// NOTE: Widths 32-64 are deferred due to code generation issues with
// 64-bit mask literals (see GitHub issue #187)

u32 main() {
    u64 value <- 0;

    // Width 1: mask 0x1
    value <- 0;
    value[0, 1] <- 1;
    if (value != 0x0000000000000001) return 1;

    // Width 2: mask 0x3
    value <- 0;
    value[0, 2] <- 3;
    if (value != 0x0000000000000003) return 2;

    // Width 3: mask 0x7
    value <- 0;
    value[0, 3] <- 7;
    if (value != 0x0000000000000007) return 3;

    // Width 4: mask 0xF
    value <- 0;
    value[0, 4] <- 15;
    if (value != 0x000000000000000F) return 4;

    // Width 5: mask 0x1F
    value <- 0;
    value[0, 5] <- 31;
    if (value != 0x000000000000001F) return 5;

    // Width 6: mask 0x3F
    value <- 0;
    value[0, 6] <- 63;
    if (value != 0x000000000000003F) return 6;

    // Width 7: mask 0x7F
    value <- 0;
    value[0, 7] <- 127;
    if (value != 0x000000000000007F) return 7;

    // Width 8: mask 0xFF
    value <- 0;
    value[0, 8] <- 255;
    if (value != 0x00000000000000FF) return 8;

    // Width 9: mask 0x1FF
    value <- 0;
    value[0, 9] <- 511;
    if (value != 0x00000000000001FF) return 9;

    // Width 10: mask 0x3FF
    value <- 0;
    value[0, 10] <- 1023;
    if (value != 0x00000000000003FF) return 10;

    // Width 11: mask 0x7FF
    value <- 0;
    value[0, 11] <- 2047;
    if (value != 0x00000000000007FF) return 11;

    // Width 12: mask 0xFFF
    value <- 0;
    value[0, 12] <- 4095;
    if (value != 0x0000000000000FFF) return 12;

    // Width 13: mask 0x1FFF
    value <- 0;
    value[0, 13] <- 8191;
    if (value != 0x0000000000001FFF) return 13;

    // Width 14: mask 0x3FFF
    value <- 0;
    value[0, 14] <- 16383;
    if (value != 0x0000000000003FFF) return 14;

    // Width 15: mask 0x7FFF
    value <- 0;
    value[0, 15] <- 32767;
    if (value != 0x0000000000007FFF) return 15;

    // Width 16: mask 0xFFFF
    value <- 0;
    value[0, 16] <- 65535;
    if (value != 0x000000000000FFFF) return 16;

    // Width 17: mask 0x1FFFF
    value <- 0;
    value[0, 17] <- 131071;
    if (value != 0x000000000001FFFF) return 17;

    // Width 18: mask 0x3FFFF
    value <- 0;
    value[0, 18] <- 262143;
    if (value != 0x000000000003FFFF) return 18;

    // Width 19: mask 0x7FFFF
    value <- 0;
    value[0, 19] <- 524287;
    if (value != 0x000000000007FFFF) return 19;

    // Width 20: mask 0xFFFFF
    value <- 0;
    value[0, 20] <- 1048575;
    if (value != 0x00000000000FFFFF) return 20;

    // Width 21: mask 0x1FFFFF
    value <- 0;
    value[0, 21] <- 2097151;
    if (value != 0x00000000001FFFFF) return 21;

    // Width 22: mask 0x3FFFFF
    value <- 0;
    value[0, 22] <- 4194303;
    if (value != 0x00000000003FFFFF) return 22;

    // Width 23: mask 0x7FFFFF
    value <- 0;
    value[0, 23] <- 8388607;
    if (value != 0x00000000007FFFFF) return 23;

    // Width 24: mask 0xFFFFFF
    value <- 0;
    value[0, 24] <- 16777215;
    if (value != 0x0000000000FFFFFF) return 24;

    // Width 25: mask 0x1FFFFFF
    value <- 0;
    value[0, 25] <- 33554431;
    if (value != 0x0000000001FFFFFF) return 25;

    // Width 26: mask 0x3FFFFFF
    value <- 0;
    value[0, 26] <- 67108863;
    if (value != 0x0000000003FFFFFF) return 26;

    // Width 27: mask 0x7FFFFFF
    value <- 0;
    value[0, 27] <- 134217727;
    if (value != 0x0000000007FFFFFF) return 27;

    // Width 28: mask 0xFFFFFFF
    value <- 0;
    value[0, 28] <- 268435455;
    if (value != 0x000000000FFFFFFF) return 28;

    // Width 29: mask 0x1FFFFFFF
    value <- 0;
    value[0, 29] <- 536870911;
    if (value != 0x000000001FFFFFFF) return 29;

    // Width 30: mask 0x3FFFFFFF
    value <- 0;
    value[0, 30] <- 1073741823;
    if (value != 0x000000003FFFFFFF) return 30;

    // Width 31: mask 0x7FFFFFFF
    value <- 0;
    value[0, 31] <- 2147483647;
    if (value != 0x000000007FFFFFFF) return 31;

    // NOTE: Width 32+ tests deferred - see comment at top

    return 0;  // All tests passed
}
