/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// test-execution
// Issue #107: Negative Literals in Switch Case Labels
// Tests: switch statement with negative integer literals
int32_t result = 0;

void handleValue(const int8_t* val) {
    switch ((*val)) {
        case -128: {
            result = 1;
            break;
        }
        case -1: {
            result = 2;
            break;
        }
        case 0: {
            result = 3;
            break;
        }
        case 127: {
            result = 4;
            break;
        }
        default: {
            result = 9;
            break;
        }
    }
}

// Test negative hex literals
void handleHex(const int16_t* val) {
    switch ((*val)) {
        case -0x80: {
            result = 10;
            break;
        }
        case -0x01: {
            result = 20;
            break;
        }
        case 0x00: {
            result = 30;
            break;
        }
        default: {
            result = 99;
            break;
        }
    }
}

int main(void) {
    int8_t minI8 = -128;
    int8_t negOne = -1;
    int8_t zero = 0;
    int8_t maxI8 = 127;
    int8_t other = 50;
    handleValue(&minI8);
    if (result != 1) return 1;
    handleValue(&negOne);
    if (result != 2) return 2;
    handleValue(&zero);
    if (result != 3) return 3;
    handleValue(&maxI8);
    if (result != 4) return 4;
    handleValue(&other);
    if (result != 9) return 5;
    int16_t negHex80 = -128;
    int16_t negHex01 = -1;
    int16_t zeroHex = 0;
    int16_t otherHex = 100;
    handleHex(&negHex80);
    if (result != 10) return 6;
    handleHex(&negHex01);
    if (result != 20) return 7;
    handleHex(&zeroHex);
    if (result != 30) return 8;
    handleHex(&otherHex);
    if (result != 99) return 9;
    return 0;
}
