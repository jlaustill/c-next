// test-execution
// Issue #525: Cross-file const linkage test
// This tests the ACTUAL bug scenario: const defined in one file, used in another

#include "const-types.cnx"

u32 main() {
    // Test basic integer consts from included file
    if (BYTE_CONST != 42) return 1;
    if (WORD_CONST != 1000) return 2;
    if (DWORD_CONST != 100000) return 3;

    // Test bounded string const
    // Note: Can't directly compare strings, just verify it compiles and links
    u8 firstChar <- STRING_CONST[0];
    if (firstChar != 72) return 4;  // 'H' = 72

    // Test const array
    if (BYTE_ARRAY[0] != 1) return 5;
    if (BYTE_ARRAY[3] != 4) return 6;

    // Test const string array
    u8 oneFirst <- STRING_ARRAY[0][0];
    if (oneFirst != 111) return 7;  // 'o' = 111

    return 0;
}
