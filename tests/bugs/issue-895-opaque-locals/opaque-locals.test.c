/**
 * Generated by C-Next Transpiler from: opaque-locals.test.cnx
 * A safer C for embedded systems
 */

#include "opaque-locals.test.h"

// test-transpile-only
// Issue #895 Bug B: Opaque type local variables should be pointers
// when initialized from a C function returning pointer to opaque type.
#include "widget.h"

#include <stdint.h>

void test_opaque_local(void) {
    widget_t* w = widget_create(480, 320);
    int32_t width = widget_get_width(w);
    widget_destroy(w);
}

/* Scope: Display */

void Display_init(void) {
    widget_t* screen = widget_create(800, 600);
    widget_destroy(screen);
}
