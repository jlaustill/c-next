/* test-execution */ // ADR-022: Ternary operator test for i8
// Tests: ternary with i8 in conditions and branches, including negative values
i8 getMax(i8 a, i8 b) {
    return (a > b) ? a : b;
}

i8 getMin(i8 a, i8 b) {
    return (a < b) ? a : b;
}

i8 getAbs(i8 x) {
    return (x < 0) ? -x : x;
}

u32 main() {
    i8 a <- 10;
    i8 b <- 20;
    i8 c <- -30;
    i8 d <- -5;

    // Test max function with positive values
    if (getMax(a, b) != 20) {
        return 1;
    }

    // Test max with negative values
    if (getMax(c, d) != -5) {
        return 2;
    }

    // Test min function with positive values
    if (getMin(a, b) != 10) {
        return 3;
    }

    // Test min with negative values
    if (getMin(c, d) != -30) {
        return 4;
    }

    // Test abs function
    if (getAbs(c) != 30) {
        return 5;
    }
    if (getAbs(a) != 10) {
        return 6;
    }

    // Test inline ternary with negative comparison
    i8 result <- (a > c) ? a : c;
    if (result != 10) {
        return 7;
    }

    // Test with edge cases - max value
    i8 max_val <- 127;
    i8 mid_val <- 50;
    i8 edge_result <- (max_val > mid_val) ? max_val : mid_val;
    if (edge_result != 127) {
        return 8;
    }

    // Test with edge cases - min value
    i8 min_val <- -128;
    i8 neg_mid <- -50;
    i8 min_result <- (min_val < neg_mid) ? min_val : neg_mid;
    if (min_result != -128) {
        return 9;
    }

    // Test equality condition with negative
    i8 equal_test <- (c = -30) ? 100 : -100;
    if (equal_test != 100) {
        return 10;
    }

    // Test zero crossing
    i8 neg <- -10;
    i8 pos <- 10;
    i8 zero_cross <- (neg < 0) ? pos : neg;
    if (zero_cross != 10) {
        return 11;
    }

    return 0;
}
