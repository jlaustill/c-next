{
  "file_path": "tests/scope/scope-clamp-modifier.expected.c",
  "main_branch_history": [],
  "task_views": {
    "001-100-scope-testing-coverage": {
      "task_id": "001-100-scope-testing-coverage",
      "branch_point": {
        "commit_hash": "6085a00ee4bff6129a6503c31d4280591d7eb497",
        "content": "",
        "timestamp": "2026-01-09T22:16:23.113589"
      },
      "worktree_state": {
        "content": "/**\n * Generated by C-Next Transpiler\n * A safer C for embedded systems\n */\n\n// Test: ADR-016 + ADR-044 Clamp overflow modifier inside scopes\n// Verifies that clamp modifier works correctly with integer types inside scope methods\n// Tests: clamp variables accessed via this. accessor with compound assignment operators\n\n#include <stdint.h>\n\n// ADR-044: Overflow helper functions\n#include <limits.h>\n\nstatic inline uint8_t cnx_clamp_add_u8(uint8_t a, uint8_t b) {\n    if (a > UINT8_MAX - b) return UINT8_MAX;\n    return a + b;\n}\n\nstatic inline uint8_t cnx_clamp_sub_u8(uint8_t a, uint8_t b) {\n    if (a < b) return 0;\n    return a - b;\n}\n\nstatic inline uint16_t cnx_clamp_add_u16(uint16_t a, uint16_t b) {\n    if (a > UINT16_MAX - b) return UINT16_MAX;\n    return a + b;\n}\n\nstatic inline uint16_t cnx_clamp_sub_u16(uint16_t a, uint16_t b) {\n    if (a < b) return 0;\n    return a - b;\n}\n\nstatic inline uint32_t cnx_clamp_add_u32(uint32_t a, uint32_t b) {\n    if (a > UINT32_MAX - b) return UINT32_MAX;\n    return a + b;\n}\n\nstatic inline uint32_t cnx_clamp_sub_u32(uint32_t a, uint32_t b) {\n    if (a < b) return 0;\n    return a - b;\n}\n\nstatic inline int8_t cnx_clamp_add_i8(int8_t a, int8_t b) {\n    if (b > 0 && a > INT8_MAX - b) return INT8_MAX;\n    if (b < 0 && a < INT8_MIN - b) return INT8_MIN;\n    return a + b;\n}\n\nstatic inline int8_t cnx_clamp_sub_i8(int8_t a, int8_t b) {\n    if (b > 0 && a < INT8_MIN + b) return INT8_MIN;\n    if (b < 0 && a > INT8_MAX + b) return INT8_MAX;\n    return a - b;\n}\n\nstatic inline int16_t cnx_clamp_add_i16(int16_t a, int16_t b) {\n    if (b > 0 && a > INT16_MAX - b) return INT16_MAX;\n    if (b < 0 && a < INT16_MIN - b) return INT16_MIN;\n    return a + b;\n}\n\nstatic inline int16_t cnx_clamp_sub_i16(int16_t a, int16_t b) {\n    if (b > 0 && a < INT16_MIN + b) return INT16_MIN;\n    if (b < 0 && a > INT16_MAX + b) return INT16_MAX;\n    return a - b;\n}\n\nstatic inline int32_t cnx_clamp_add_i32(int32_t a, int32_t b) {\n    if (b > 0 && a > INT32_MAX - b) return INT32_MAX;\n    if (b < 0 && a < INT32_MIN - b) return INT32_MIN;\n    return a + b;\n}\n\nstatic inline int32_t cnx_clamp_sub_i32(int32_t a, int32_t b) {\n    if (b > 0 && a < INT32_MIN + b) return INT32_MIN;\n    if (b < 0 && a > INT32_MAX + b) return INT32_MAX;\n    return a - b;\n}\n\n/* Scope: ClampTest */\nuint8_t ClampTest_brightness = 200;\nuint16_t ClampTest_sensorValue = 60000;\nuint32_t ClampTest_counter = 4000000000;\nint8_t ClampTest_temperature = -100;\nint16_t ClampTest_altitude = 30000;\nint32_t ClampTest_position = 2000000000;\n\nuint8_t ClampTest_getBrightness(void) {\n    return ClampTest_brightness;\n}\n\nuint16_t ClampTest_getSensorValue(void) {\n    return ClampTest_sensorValue;\n}\n\nuint32_t ClampTest_getCounter(void) {\n    return ClampTest_counter;\n}\n\nint8_t ClampTest_getTemperature(void) {\n    return ClampTest_temperature;\n}\n\nint16_t ClampTest_getAltitude(void) {\n    return ClampTest_altitude;\n}\n\nint32_t ClampTest_getPosition(void) {\n    return ClampTest_position;\n}\n\nvoid ClampTest_increaseBrightness(void) {\n    ClampTest_brightness = cnx_clamp_add_u8(ClampTest_brightness, 100);\n}\n\nvoid ClampTest_increaseSensorValue(void) {\n    ClampTest_sensorValue = cnx_clamp_add_u16(ClampTest_sensorValue, 10000);\n}\n\nvoid ClampTest_increaseCounter(void) {\n    ClampTest_counter = cnx_clamp_add_u32(ClampTest_counter, 500000000);\n}\n\nvoid ClampTest_decreaseTemperature(void) {\n    ClampTest_temperature = cnx_clamp_sub_i8(ClampTest_temperature, 50);\n}\n\nvoid ClampTest_decreaseAltitude(void) {\n    ClampTest_altitude = cnx_clamp_sub_i16(ClampTest_altitude, 5000);\n}\n\nvoid ClampTest_decreasePosition(void) {\n    ClampTest_position = cnx_clamp_sub_i32(ClampTest_position, 100000000);\n}\n\nvoid ClampTest_dimBrightness(void) {\n    ClampTest_brightness = cnx_clamp_sub_u8(ClampTest_brightness, 250);\n}\n\nvoid ClampTest_resetSensor(void) {\n    ClampTest_sensorValue = cnx_clamp_sub_u16(ClampTest_sensorValue, 65000);\n}\n\nvoid ClampTest_adjustAll(void) {\n    ClampTest_brightness = cnx_clamp_add_u8(ClampTest_brightness, 10);\n    ClampTest_sensorValue = cnx_clamp_add_u16(ClampTest_sensorValue, 100);\n    ClampTest_temperature = cnx_clamp_sub_i8(ClampTest_temperature, 5);\n    ClampTest_altitude = cnx_clamp_add_i16(ClampTest_altitude, 1000);\n}\n\nvoid main(void) {\n    ClampTest_getBrightness();\n    ClampTest_getSensorValue();\n    ClampTest_getCounter();\n    ClampTest_getTemperature();\n    ClampTest_getAltitude();\n    ClampTest_getPosition();\n    ClampTest_increaseBrightness();\n    ClampTest_increaseSensorValue();\n    ClampTest_increaseCounter();\n    ClampTest_decreaseTemperature();\n    ClampTest_decreaseAltitude();\n    ClampTest_decreasePosition();\n    ClampTest_dimBrightness();\n    ClampTest_resetSensor();\n    ClampTest_adjustAll();\n}\n",
        "last_modified": "2026-01-10T07:02:20.266103"
      },
      "task_intent": {
        "title": "100% Scope Testing Coverage",
        "description": "Expand the C-Next test suite to achieve comprehensive coverage of scope-related functionality including this./global. accessors with all data types, modifier permutations, and error cases.",
        "from_plan": true
      },
      "commits_behind_main": 1,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-09T22:16:23.129740",
  "last_updated": "2026-01-09T22:16:23.131580"
}