// test-execution
// Tests: Basic enum scenarios - global and scope

// === GLOBAL ENUM ===
enum EGlobalState {
    IDLE <- 0,
    RUNNING <- 1,
    STOPPED <- 2
}

// === SCOPE WITH ENUM ===
scope Motor {
    public enum EMode {
        OFF <- 0,
        LOW <- 1,
        HIGH <- 2
    }

    private this.EMode mode <- this.EMode.OFF;

    public this.EMode getMode() {
        return this.mode;
    }

    public void setMode(this.EMode newMode) {
        this.mode <- newMode;
    }

    public bool isOff() {
        return (this.mode = this.EMode.OFF);
    }
}

u32 main() {
    // Test 1: Global enum
    EGlobalState state <- EGlobalState.IDLE;
    if (state != EGlobalState.IDLE) return 1;

    state <- EGlobalState.RUNNING;
    if (state != EGlobalState.RUNNING) return 2;

    // Test 2: Scope enum via setter
    Motor.setMode(Motor.EMode.LOW);

    // Test 3: Scope enum via getter
    Motor.EMode motorMode <- Motor.getMode();
    if (motorMode != Motor.EMode.LOW) return 3;

    // Test 4: Scope enum comparison
    bool isOff <- Motor.isOff();
    if (isOff) return 4;  // Should NOT be off

    return 0;
}
