/**
 * Generated by C-Next Transpiler from: global-type-variable.test.cnx
 * A safer C for embedded systems
 */

#include "global-type-variable.test.h"

#include <stdint.h>

// test-execution
// Tests: global.EnumType for variable declarations inside scope
// Issue #478: global.EnumType not recognized as type reference inside scope
// Define enum in same file to avoid cross-file header conflicts
/* Scope: StateMachine */
static EState StateMachine_currentState = EState_IDLE;

void StateMachine_setState(EState state) {
    StateMachine_currentState = state;
}

EState StateMachine_getState(void) {
    return StateMachine_currentState;
}

int main(void) {
    StateMachine_setState(EState_RUNNING);
    int32_t result = (int32_t)StateMachine_getState();
    if (result != 1) return 1;
    StateMachine_setState(EState_STOPPED);
    result = (int32_t)StateMachine_getState();
    if (result != 2) return 2;
    return 0;
}
