/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>
#include <string.h>

// test-execution
// ADR-045: Test array of strings
// Validates: declaration, element access, array.length, element.length, loops
char globalNames[5][33] = {0};

uint32_t getArrayLength(char arr[5][33]) {
    return 5;
}

// Issue #136 fixed: arr[index].length now correctly returns strlen
uint32_t getElementLength(char arr[5][33], uint32_t* index) {
    return strlen(arr[(*index)]);
}

int main(void) {
    strncpy(globalNames[0], "Alice", 32);
    strncpy(globalNames[1], "Bob", 32);
    strncpy(globalNames[2], "Charlie", 32);
    strncpy(globalNames[3], "Diana", 32);
    strncpy(globalNames[4], "Eve", 32);
    if (5 != 5) return 1;
    if (strlen(globalNames[0]) != 5) return 2;
    if (strlen(globalNames[1]) != 3) return 3;
    if (strlen(globalNames[2]) != 7) return 4;
    if (strlen(globalNames[3]) != 5) return 5;
    if (strlen(globalNames[4]) != 3) return 6;
    if (32 != 32) return 7;
    if (33 != 33) return 8;
    if (strcmp(globalNames[0], "Alice") != 0) return 9;
    if (strcmp(globalNames[2], "Charlie") != 0) return 10;
    char dupes[3][33] = {0};
    strncpy(dupes[0], "Alice", 32);
    strncpy(dupes[1], "Alice", 32);
    strncpy(dupes[2], "Bob", 32);
    if (strcmp(dupes[0], dupes[1]) != 0) return 11;
    if (strcmp(dupes[0], dupes[2]) == 0) return 12;
    char colors[3][65] = {0};
    strncpy(colors[0], "Red", 64);
    strncpy(colors[1], "Green", 64);
    strncpy(colors[2], "Blue", 64);
    if (3 != 3) return 13;
    if (strlen(colors[0]) != 3) return 14;
    if (strlen(colors[1]) != 5) return 15;
    if (strlen(colors[2]) != 4) return 16;
    uint32_t arrLen = getArrayLength(&globalNames);
    if (arrLen != 5) return 17;
    uint32_t elemLen0 = getElementLength(&globalNames, &(uint32_t){0});
    if (elemLen0 != 5) return 18;
    uint32_t elemLen1 = getElementLength(&globalNames, &(uint32_t){1});
    if (elemLen1 != 3) return 19;
    uint32_t elemLen2 = getElementLength(&globalNames, &(uint32_t){2});
    if (elemLen2 != 7) return 20;
    uint32_t elemLen3 = getElementLength(&globalNames, &(uint32_t){3});
    if (elemLen3 != 5) return 21;
    uint32_t elemLen4 = getElementLength(&globalNames, &(uint32_t){4});
    if (elemLen4 != 3) return 22;
    uint32_t totalLength = 0;
    uint32_t i = 0;
    while (i < 5) {
        totalLength = totalLength + strlen(globalNames[i]);
        i = i + 1;
    }
    if (totalLength != 23) return 23;
    strncpy(globalNames[1], "Benjamin", 32);
    if (strlen(globalNames[1]) != 8) return 24;
    if (strcmp(globalNames[1], "Benjamin") != 0) return 25;
    char sparse[3][33] = {0};
    strncpy(sparse[1], "Middle", 32);
    if (strlen(sparse[0]) != 0) return 26;
    if (strlen(sparse[1]) != 6) return 27;
    if (strlen(sparse[2]) != 0) return 28;
    return 0;
}
