/* test-execution */
// ADR-045: Validate .length, .capacity, .size return correct values at runtime

i32 main() {
    // Test 1-3: Basic string properties
    string<64> msg <- "Hello";
    if (msg.length != 5) return 1;      // strlen at runtime
    if (msg.capacity != 64) return 2;   // compile-time constant
    if (msg.size != 65) return 3;       // capacity + 1

    // Test 4-6: Different capacity
    string<128> longer <- "This is a longer string for testing";
    if (longer.length != 36) return 4;
    if (longer.capacity != 128) return 5;
    if (longer.size != 129) return 6;

    // Test 7-9: Empty string
    string<32> empty;
    if (empty.length != 0) return 7;
    if (empty.capacity != 32) return 8;
    if (empty.size != 33) return 9;

    // Test 10-12: String at exact capacity
    string<5> exact <- "Hello";
    if (exact.length != 5) return 10;
    if (exact.capacity != 5) return 11;
    if (exact.size != 6) return 12;

    // Test 13-15: Single character string
    string<16> single <- "X";
    if (single.length != 1) return 13;
    if (single.capacity != 16) return 14;
    if (single.size != 17) return 15;

    return 0;
}
