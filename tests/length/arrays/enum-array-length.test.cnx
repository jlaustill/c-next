// test-execution
// .length test for enum arrays - validates element .length returns 32
// Issue #121: Enum arrays were previously returning 0 for element .length
// Note: This test focuses on element .length, as enum array dimension .length
// has separate implementation issues tracked elsewhere
enum State {
    IDLE,
    RUNNING,
    ERROR
}

u32 checkArrayLength(State arr[16]) {
    return arr.length;
}

u32 checkElementLength(State arr[16]) {
    return arr[0].length;
}

i32 main() {

// Test 1: Array parameter length should return 16 (array size)
    State testArr[16];
    u32 result <- checkArrayLength(testArr);
    if (result != 16) {
        return 1;
    }


// Test 2: Array element .length should return 32 (enum bit width)
    result <- checkElementLength(testArr);
    if (result != 32) {
        return 2;
    }

    return 0;
}
