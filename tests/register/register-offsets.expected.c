/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// ADR-004: Register offset calculation test
// Tests: correct offset values in generated C macros
/* Register: UART @ 0x40001000 */
#define UART_CR (*(volatile uint32_t*)(0x40001000 + 0x00))
#define UART_SR (*(volatile uint32_t const *)(0x40001000 + 0x04))
#define UART_DR (*(volatile uint32_t*)(0x40001000 + 0x08))
#define UART_BRR (*(volatile uint32_t*)(0x40001000 + 0x0C))
#define UART_CR1 (*(volatile uint32_t*)(0x40001000 + 0x10))

int main(void) {
    UART_CR = 0x01;
    UART_DR = 0x55;
    UART_BRR = 9600;
    UART_CR1 = 0x80;
    uint32_t status = UART_SR;
}
