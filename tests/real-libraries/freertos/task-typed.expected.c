/**
 * Generated by C-Next Transpiler from: task-typed.test.cnx
 * A safer C for embedded systems
 */

// test-transpile-only
// test-c-only
// Tests: FreeRTOS integration using C boundary layer (ADR-061)
// Issue #931: Real-world library integration tests
//
// This test validates the ADR-061 pattern:
// - C-Next code is pure and type-safe (no void*)
// - C-Next includes shared types header
// - C wrapper (separate file) handles void* casting
#include "task_types.h"

#include <stdbool.h>

// Typed task function - will be called by C wrapper
// The C wrapper casts void* to TaskData* and calls this
void counterTask_typed(TaskData* data) {
    data->counter = data->counter + 1U;
    data->taskRan = true;
}

// Test function demonstrating typed usage
void testTypedAccess(void) {
    TaskData data = (TaskData){ .counter = 0U, .maxCount = 10U, .taskRan = false };
    counterTask_typed(&data);
}
