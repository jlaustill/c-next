/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include "switch-inside-scope.test.hpp"

#include <stdint.h>

// Coverage: Section 7.5 - switch statement inside scope
// Tests: switch statements inside scope method declarations
uint32_t globalResult = 0U;

/* Scope: CommandProcessor */
static uint32_t CommandProcessor_lastCommand = 0;
static uint32_t CommandProcessor_result = 0;

void CommandProcessor_execute(uint32_t command) {
    CommandProcessor_lastCommand = command;
    switch (command) {
        case 1: {
            CommandProcessor_result = 100U;
            break;
        }
        case 2: {
            CommandProcessor_result = 200U;
            break;
        }
        case 3: {
            CommandProcessor_result = 300U;
            break;
        }
        default: {
            CommandProcessor_result = 0U;
            break;
        }
    }
}

uint32_t CommandProcessor_getResult(void) {
    return CommandProcessor_result;
}

/* Scope: Calculator */
static uint32_t Calculator_mode = 0;
static uint32_t Calculator_a = 0;
static uint32_t Calculator_b = 0;
static uint32_t Calculator_output = 0;

void Calculator_setOperands(uint32_t x, uint32_t y) {
    Calculator_a = x;
    Calculator_b = y;
}

void Calculator_compute(uint32_t operation) {
    Calculator_mode = operation;
    switch (operation) {
        case 0: {
            Calculator_output = Calculator_a + Calculator_b;
            break;
        }
        case 1: {
            Calculator_output = Calculator_a - Calculator_b;
            break;
        }
        case 2: {
            Calculator_output = Calculator_a * Calculator_b;
            break;
        }
        default: {
            Calculator_output = 0U;
            break;
        }
    }
}

uint32_t Calculator_getOutput(void) {
    return Calculator_output;
}

int main(void) {
    CommandProcessor_execute(2);
    globalResult = CommandProcessor_getResult();
    Calculator_setOperands(10, 5);
    Calculator_compute(0);
    globalResult = Calculator_getOutput();
    Calculator_compute(1);
    globalResult = Calculator_getOutput();
}
