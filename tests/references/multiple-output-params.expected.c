/**
 * Generated by C-Next Transpiler from: multiple-output-params.test.cnx
 * A safer C for embedded systems
 */

#include <stdint.h>

// test-coverage: 27-multiple-output-params
// test-execution
// Tests: Function with multiple output parameters
// Divides a by b, returns quotient and remainder via output params
void divmod(uint32_t a, uint32_t b, uint32_t* quotient, uint32_t* remainder) {
    (*quotient) = a / b;
    (*remainder) = a % b;
}

// Returns min and max of two values
void minmax(int32_t a, int32_t b, int32_t* minVal, int32_t* maxVal) {
    if (a < b) {
        (*minVal) = a;
        (*maxVal) = b;
    } else {
        (*minVal) = b;
        (*maxVal) = a;
    }
}

// Calculates statistics: sum, count, and average
void stats(uint32_t a, uint32_t b, uint32_t c, uint32_t* sum, uint32_t* count, uint32_t* avg) {
    (*sum) = a + b + c;
    (*count) = 3U;
    (*avg) = (*sum) / (*count);
}

// Swaps three values in rotation: a->b, b->c, c->a
void rotate3(uint32_t* a, uint32_t* b, uint32_t* c) {
    uint32_t temp = (*a);
    (*a) = (*b);
    (*b) = (*c);
    (*c) = temp;
}

int main(void) {
    uint32_t q = 0U;
    uint32_t r = 0U;
    divmod(17U, 5U, &q, &r);
    if (q != 3) return 1;
    if (r != 2) return 2;
    divmod(100U, 10U, &q, &r);
    if (q != 10) return 3;
    if (r != 0) return 4;
    divmod(7U, 3U, &q, &r);
    if (q != 2) return 5;
    if (r != 1) return 6;
    int32_t minResult = 0;
    int32_t maxResult = 0;
    minmax(10, 20, &minResult, &maxResult);
    if (minResult != 10) return 7;
    if (maxResult != 20) return 8;
    minmax(50, 25, &minResult, &maxResult);
    if (minResult != 25) return 9;
    if (maxResult != 50) return 10;
    minmax(-5, 5, &minResult, &maxResult);
    if (minResult != -5) return 11;
    if (maxResult != 5) return 12;
    uint32_t sum = 0U;
    uint32_t count = 0U;
    uint32_t avg = 0U;
    stats(10U, 20U, 30U, &sum, &count, &avg);
    if (sum != 60) return 13;
    if (count != 3) return 14;
    if (avg != 20) return 15;
    stats(100U, 200U, 300U, &sum, &count, &avg);
    if (sum != 600) return 16;
    if (avg != 200) return 17;
    uint32_t x = 1U;
    uint32_t y = 2U;
    uint32_t z = 3U;
    rotate3(&x, &y, &z);
    if (x != 2) return 18;
    if (y != 3) return 19;
    if (z != 1) return 20;
    return 0;
}
