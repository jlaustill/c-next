/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// test-coverage: 10-enum-function-param
// test-execution
// Tests: Enum as function parameter
typedef enum {
    Status_OK = 0,
    Status_WARNING = 1,
    Status_ERROR = 2,
    Status_CRITICAL = 3
} Status;

// Function that takes enum as parameter
uint32_t getStatusCode(Status s) {
    if (s == Status_OK) {
        return 0;
    }
    if (s == Status_WARNING) {
        return 1;
    }
    if (s == Status_ERROR) {
        return 2;
    }
    if (s == Status_CRITICAL) {
        return 3;
    }
    return 99;
}

// Function that takes enum and returns modified value
uint32_t getStatusPriority(Status s) {
    if (s == Status_CRITICAL) {
        return 100;
    }
    if (s == Status_ERROR) {
        return 50;
    }
    if (s == Status_WARNING) {
        return 10;
    }
    return 0;
}

int main(void) {
    if (getStatusCode(Status_OK) != 0) return 1;
    if (getStatusCode(Status_WARNING) != 1) return 2;
    if (getStatusCode(Status_ERROR) != 2) return 3;
    if (getStatusCode(Status_CRITICAL) != 3) return 4;
    Status current = Status_ERROR;
    if (getStatusCode(current) != 2) return 5;
    if (getStatusPriority(Status_OK) != 0) return 6;
    if (getStatusPriority(Status_WARNING) != 10) return 7;
    if (getStatusPriority(Status_ERROR) != 50) return 8;
    if (getStatusPriority(Status_CRITICAL) != 100) return 9;
    current = Status_CRITICAL;
    if (getStatusPriority(current) != 100) return 10;
    return 0;
}
