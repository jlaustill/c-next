/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// test-coverage: 10-enum-function-param
// test-execution
// Tests: Enum as function parameter
typedef enum {
    Status_OK = 0,
    Status_WARNING = 1,
    Status_ERROR = 2,
    Status_CRITICAL = 3
} Status;

// Function that takes enum as parameter
uint32_t getStatusCode(Status s) {
    if (s == Status_OK) {
        return 0;
    }
    if (s == Status_WARNING) {
        return 1;
    }
    if (s == Status_ERROR) {
        return 2;
    }
    if (s == Status_CRITICAL) {
        return 3;
    }
    return 99;
}

// Function that takes enum and returns modified value
uint32_t getStatusPriority(Status s) {
    if (s == Status_CRITICAL) {
        return 100;
    }
    if (s == Status_ERROR) {
        return 50;
    }
    if (s == Status_WARNING) {
        return 10;
    }
    return 0;
}

int main(void) {
    uint32_t code = getStatusCode(Status_OK);
    if (code != 0) return 1;
    code = getStatusCode(Status_WARNING);
    if (code != 1) return 2;
    code = getStatusCode(Status_ERROR);
    if (code != 2) return 3;
    code = getStatusCode(Status_CRITICAL);
    if (code != 3) return 4;
    Status current = Status_ERROR;
    code = getStatusCode(current);
    if (code != 2) return 5;
    uint32_t priority = getStatusPriority(Status_OK);
    if (priority != 0) return 6;
    priority = getStatusPriority(Status_WARNING);
    if (priority != 10) return 7;
    priority = getStatusPriority(Status_ERROR);
    if (priority != 50) return 8;
    priority = getStatusPriority(Status_CRITICAL);
    if (priority != 100) return 9;
    current = Status_CRITICAL;
    priority = getStatusPriority(current);
    if (priority != 100) return 10;
    return 0;
}
