/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>
#include <stdbool.h>
#include <string.h>

// test-execution
// ADR-045: Validate string function parameters at runtime
uint32_t getLen(const char* s) {
    return strlen(s);
}

uint32_t getCap(const char* s) {
    return 64;
}

bool isEqual(const char* a, const char* b) {
    return strcmp(a, b) == 0;
}

bool matchesLiteral(const char* s, const char* lit) {
    return strcmp(s, lit) == 0;
}

int main(void) {
    char test[65] = "Hello";
    if (getLen(&test) != 5) return 1;
    if (getLen("World") != 5) return 2;
    if (getLen("") != 0) return 3;
    if (getCap(&test) != 64) return 4;
    if (getCap("Hi") != 64) return 5;
    char same[65] = "Hello";
    if (!isEqual(&test, &same)) return 6;
    if (!isEqual(&test, "Hello")) return 7;
    char diff[65] = "World";
    if (isEqual(&test, &diff)) return 8;
    if (!matchesLiteral(&test, "Hello")) return 9;
    if (matchesLiteral(&test, "World")) return 10;
    char empty[65] = "";
    if (getLen(&empty) != 0) return 11;
    if (!isEqual(&empty, "")) return 12;
    char longer[65] = "This is a longer string";
    if (getLen(&longer) != 23) return 13;
    if (!matchesLiteral(&longer, "This is a longer string")) return 14;
    return 0;
}
