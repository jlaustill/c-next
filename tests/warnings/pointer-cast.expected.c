/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

/* test-no-warnings */
// test-execution
// Tests: Struct pass-by-reference should not trigger pointer warnings
// Validates: Implicit pointer handling is warning-free
// Coverage: Struct parameters, struct returns, nested access
typedef struct Data {
    uint32_t value;
    uint8_t flags;
} Data;

typedef struct Container {
    Data inner;
    uint32_t count;
} Container;

void modifyData(Data* d) {
    d->value = 999;
    d->flags = 0xFF;
}

Data createData(uint32_t val, uint8_t flg) {
    Data result = (Data){ .value = val, .flags = flg };
    return result;
}

void updateContainer(Container* c, uint32_t newCount) {
    c->count = newCount;
    c->inner.value = newCount * 10;
}

int main(void) {
    Data d = (Data){ .value = 100, .flags = 0x0F };
    modifyData(&d);
    if (d.value != 999) return 1;
    if (d.flags != 0xFF) return 2;
    Data created = createData(42, 0xAB);
    if (created.value != 42) return 3;
    if (created.flags != 0xAB) return 4;
    Container c = (Container){ .inner = (Data){ .value = 0, .flags = 0 }, .count = 0 };
    updateContainer(&c, 5);
    if (c.count != 5) return 5;
    if (c.inner.value != 50) return 6;
    return 0;
}
