// Test: Bit indexing on scoped registers

scope Board {
    const u32 LED_BIT <- 3;

    register GPIO @ 0x40000000 {
        DR:     u32 rw @ 0x00,
        DR_SET: u32 wo @ 0x84,
    }

    void toggleLed() {
        // Simpler test: direct access
        Board.GPIO.DR_SET[3] <- true;
    }
}

void main() {
    Board.toggleLed();
    Board.GPIO.DR[0] <- true;
}
