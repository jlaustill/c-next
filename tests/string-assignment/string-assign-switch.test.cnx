/* test-execution */ // Issue #139: Test string assignment inside switch cases
string<32> level <- "";

void setLevel(u32 code) {
    switch (code) {
        case 0 {
            level <- "Low";
        }
        case 1 {
            level <- "Medium";
        }
        case 2 {
            level <- "High";
        }
    default {
            level <- "Unknown";
        }
    }
}

u32 main() {
    setLevel(0);
    if (level.length != 3) return 1;

    setLevel(1);
    if (level.length != 6) return 2;

    setLevel(2);
    if (level.length != 4) return 3;

    setLevel(99);
    if (level.length != 7) return 4;

    return 0;
}
