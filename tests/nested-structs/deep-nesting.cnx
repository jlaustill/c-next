// ADR-032: Deep Nested Struct Test
// Tests: 3+ levels of nesting

struct Color {
    u8 r;
    u8 g;
    u8 b;
}

struct Material {
    Color ambient;
    Color diffuse;
    Color specular;
    f32 shininess;
}

struct Mesh {
    Material material;
    u32 vertexCount;
}

// 3-level deep initialization
Mesh cube <- {
    material: Material {
        ambient: Color { r: 50, g: 50, b: 50 },
        diffuse: Color { r: 200, g: 100, b: 50 },
        specular: Color { r: 255, g: 255, b: 255 },
        shininess: 32.0
    },
    vertexCount: 36
};

i32 main() {
    // 3-level deep read access
    u8 ambientRed <- cube.material.ambient.r;
    u8 diffuseGreen <- cube.material.diffuse.g;
    u8 specularBlue <- cube.material.specular.b;
    f32 shine <- cube.material.shininess;

    return 0;
}
