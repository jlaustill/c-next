# SonarCloud Configuration
# Documentation: https://docs.sonarsource.com/sonarqube-cloud/

# Project identification (verify these match your SonarCloud project)
sonar.projectKey=jlaustill_c-next
sonar.organization=jlaustill

# Source configuration
sonar.sources=src
sonar.tests=src
sonar.test.inclusions=**/*.test.ts

# Exclusions (generated code, dependencies, build artifacts)
# Note: **/grammar/** excludes ANTLR-generated parser files in src/transpiler/logic/parser/*/grammar/
sonar.exclusions=**/node_modules/**,**/dist/**,**/grammar/**,**/coverage/**

# Coverage exclusions (files with module-level code that can't be unit tested)
# Note: src/index.ts is the CLI entry point with module-level bootstrap code
# Note: Test files don't need coverage - they ARE the tests
sonar.coverage.exclusions=src/index.ts,**/*.test.ts,**/__tests__/**

# Coverage report path (generated by vitest)
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Issue exclusions
# CodeGenState is a mutable state container - all properties are intentionally not readonly
sonar.issue.ignore.multicriteria=e1
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1444
sonar.issue.ignore.multicriteria.e1.resourceKey=**/CodeGenState.ts

# TypeScript configuration
sonar.typescript.tsconfigPaths=tsconfig.json
