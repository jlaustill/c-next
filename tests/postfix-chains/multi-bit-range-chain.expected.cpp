/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>

// Postfix Chain Test: Multi-Bit Field Ranges
// Tests: Bit range assignment [start, width] through chains
// HIGH RISK: Lines 3373-3443 in CodeGenerator.ts - overflow protection needed
typedef struct Device {
    uint8_t control;
    uint16_t status;
    uint32_t config;
} Device;

Device devices[4] = {0};

uint8_t flags = 0;

uint16_t settings = 0;

uint32_t registers = 0;

int main(void) {
    flags = (flags & ~(((1U << 3) - 1) << 0)) | ((7 & ((1U << 3) - 1)) << 0);
    flags = (flags & ~(((1U << 5) - 1) << 3)) | ((31 & ((1U << 5) - 1)) << 3);
    settings = (settings & ~(0xFFU << 0)) | ((255 & 0xFFU) << 0);
    settings = (settings & ~(0xFFU << 8)) | ((128 & 0xFFU) << 8);
    registers = (registers & ~(0xFFFFU << 0)) | ((0xFFFF & 0xFFFFU) << 0);
    registers = (registers & ~(0xFFFFU << 16)) | ((0x1234 & 0xFFFFU) << 16);
    uint8_t lowBits = ((flags) & ((1U << 3) - 1));
    uint8_t highBits = ((flags >> 3) & ((1U << 5) - 1));
    uint16_t lowWord = ((registers) & 0xFFFFU);
    uint16_t highWord = ((registers >> 16) & 0xFFFFU);
    devices[0].control = 0;
    devices[0].control = (devices[0].control & ~(((1U << 4) - 1) << 0)) | ((15 & ((1U << 4) - 1)) << 0);
    devices[0].control = (devices[0].control & ~(((1U << 4) - 1) << 4)) | ((8 & ((1U << 4) - 1)) << 4);
    uint8_t ctrlLow = ((devices[0].control) & ((1U << 4) - 1));
    uint8_t ctrlHigh = ((devices[0].control >> 4) & ((1U << 4) - 1));
    devices[1].status = 0;
    devices[1].status = (devices[1].status & ~(0xFFU << 0)) | ((0xAA & 0xFFU) << 0);
    devices[1].status = (devices[1].status & ~(0xFFU << 8)) | ((0x55 & 0xFFU) << 8);
    uint16_t statusLow = ((devices[1].status) & 0xFFU);
    uint16_t statusHigh = ((devices[1].status >> 8) & 0xFFU);
    devices[2].config = 0;
    devices[2].config = (devices[2].config & ~(0xFFU << 0)) | ((0x12 & 0xFFU) << 0);
    devices[2].config = (devices[2].config & ~(0xFFU << 8)) | ((0x34 & 0xFFU) << 8);
    devices[2].config = (devices[2].config & ~(0xFFU << 16)) | ((0x56 & 0xFFU) << 16);
    devices[2].config = (devices[2].config & ~(0xFFU << 24)) | ((0x78 & 0xFFU) << 24);
    uint32_t byte0 = ((devices[2].config) & 0xFFU);
    uint32_t byte1 = ((devices[2].config >> 8) & 0xFFU);
    uint32_t byte2 = ((devices[2].config >> 16) & 0xFFU);
    uint32_t byte3 = ((devices[2].config >> 24) & 0xFFU);
    flags = (flags & ~(((1U << 1) - 1) << 0)) | ((1 & ((1U << 1) - 1)) << 0);
    uint8_t singleBit = ((flags) & ((1U << 1) - 1));
    uint8_t test = 0;
    test = (test & ~(((1U << 2) - 1) << 0)) | ((3 & ((1U << 2) - 1)) << 0);
    test = (test & ~(((1U << 3) - 1) << 2)) | ((7 & ((1U << 3) - 1)) << 2);
    test = (test & ~(((1U << 3) - 1) << 5)) | ((6 & ((1U << 3) - 1)) << 5);
    uint8_t r1 = ((test) & ((1U << 2) - 1));
    uint8_t r2 = ((test >> 2) & ((1U << 3) - 1));
    uint8_t r3 = ((test >> 5) & ((1U << 3) - 1));
}
