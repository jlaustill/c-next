// test-execution
// Issue #139: Test empty string assignment
string<32> msg <- "Initial";

void clearMessage() {
    msg <- "";
}

u32 main() {
    if (msg.char_count != 7) return 1;

    clearMessage();
    if (msg.char_count != 0) return 2;

    // Assign empty then non-empty
    msg <- "";
    if (msg.char_count != 0) return 3;

    msg <- "Back";
    if (msg.char_count != 4) return 4;

    // Multiple empty assignments
    msg <- "";
    msg <- "";
    msg <- "";
    if (msg.char_count != 0) return 5;

    return 0;
}
