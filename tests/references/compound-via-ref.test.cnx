// Test: Compound assignment through reference parameters
// Verifies that pass-by-reference works with compound operators

void addToValue(i32 value, i32 amount) {
    value +<- amount;  // Should be: (*value) += amount;
}

void subtractFromValue(i32 value, i32 amount) {
    value -<- amount;  // Should be: (*value) -= amount;
}

void multiplyValue(i32 value, i32 factor) {
    value *<- factor;  // Should be: (*value) *= factor;
}

i32 main() {
    i32 x <- 100;
    i32 amount <- 50;

    addToValue(x, amount);  // x should be 150
    if (x != 150) {
        return 1;
    }

    amount <- 30;
    subtractFromValue(x, amount);  // x should be 120
    if (x != 120) {
        return 2;
    }

    amount <- 2;
    multiplyValue(x, amount);    // x should be 240
    if (x != 240) {
        return 3;
    }

    return 0;
}
