/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include <stdint.h>
#include <stdbool.h>

typedef struct {
    int32_t x;
    int32_t y;
} Point;

typedef struct {
    float x;
    float y;
    float z;
} Vector3;

typedef struct {
    uint8_t r;
    uint8_t g;
    uint8_t b;
    uint8_t a;
} Color;

typedef struct {
    uint32_t baudRate;
    uint8_t dataBits;
    uint8_t stopBits;
    uint8_t parity;
} UARTConfig;

typedef struct {
    uint32_t clockSpeed;
    uint8_t mode;
    uint8_t bitOrder;
} SPIConfig;

typedef struct {
    uint32_t clockSpeed;
    uint8_t address;
} I2CConfig;

typedef struct {
    Point topLeft;
    Point bottomRight;
} Rectangle;

typedef struct {
    Point center;
    uint32_t radius;
} Circle;

/* Namespace: Console */

void Console_printInt(int32_t* value) {
}

void Console_printFloat(float* value) {
}

void Console_printHex(uint32_t* value) {
}

void movePoint(Point* p, const int32_t* dx, const int32_t* dy) {
    p->x = p->x + (*dx);
    p->y = p->y + (*dy);
}

void scalePoint(Point* p, const int32_t* factor) {
    p->x = p->x * (*factor);
    p->y = p->y * (*factor);
}

void distanceSquared(const Point* a, const Point* b, int32_t* result) {
    int32_t dx = b->x - a->x;
    int32_t dy = b->y - a->y;
    (*result) = dx * dx + dy * dy;
}

void normalizeVector(Vector3* v) {
    float len = v->x * v->x + v->y * v->y + v->z * v->z;
}

void isPointInRect(const Point* p, const Rectangle* rect, bool* result) {
    (*result) = p->x >= rect->topLeft.x && p->x <= rect->bottomRight.x && p->y >= rect->topLeft.y && p->y <= rect->bottomRight.y;
}

const int32_t MOVE_DX = 5;

const int32_t MOVE_DY = 10;

const int32_t SCALE_FACTOR = 2;

const uint32_t DEFAULT_BAUD = 115200;

const uint8_t DEFAULT_DATA_BITS = 8;

const uint8_t DEFAULT_STOP_BITS = 1;

const uint8_t DEFAULT_PARITY = 0;

const uint32_t SPI_CLOCK = 1000000;

const uint8_t SPI_MODE = 0;

const uint8_t SPI_BIT_ORDER = 0;

void main(void) {
    Point origin = {0};
    Vector3 direction = {0};
    UARTConfig uart = {0};
    Point cursor = (Point){ .x = 100, .y = 200 };
    Color red = (Color){ .r = 255 };
    Color blue = (Color){ .r = 0, .g = 0, .b = 255, .a = 255 };
    UARTConfig serialConfig = (UARTConfig){ .baudRate = DEFAULT_BAUD, .dataBits = DEFAULT_DATA_BITS, .stopBits = DEFAULT_STOP_BITS, .parity = DEFAULT_PARITY };
    Rectangle rect = (Rectangle){ .topLeft = (Point){ .x = 0, .y = 0 }, .bottomRight = (Point){ .x = 640, .y = 480 } };
    Circle circle = (Circle){ .center = (Point){ .x = 320, .y = 240 }, .radius = 100 };
    int32_t cursorX = cursor.x;
    int32_t cursorY = cursor.y;
    Console_printInt(&cursorX);
    Console_printInt(&cursorY);
    cursor.x = 150;
    cursor.y = 250;
    int32_t rectWidth = rect.bottomRight.x - rect.topLeft.x;
    int32_t rectHeight = rect.bottomRight.y - rect.topLeft.y;
    Console_printInt(&rectWidth);
    Console_printInt(&rectHeight);
    Point player = (Point){ .x = 10, .y = 20 };
    movePoint(&player, &MOVE_DX, &MOVE_DY);
    Console_printInt(&player.x);
    Console_printInt(&player.y);
    scalePoint(&player, &SCALE_FACTOR);
    Console_printInt(&player.x);
    Console_printInt(&player.y);
    Point target = (Point){ .x = 100, .y = 100 };
    int32_t dist = 0;
    distanceSquared(&player, &target, &dist);
    Console_printInt(&dist);
    bool inside = false;
    isPointInRect(&player, &rect, &inside);
}
