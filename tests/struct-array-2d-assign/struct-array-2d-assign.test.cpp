/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

#include "struct-array-2d-assign.test.h"

#include <stdint.h>
#include <stdbool.h>

// test-execution
// Tests: 2D struct array member assignment through global prefix (Issue #387)
TReading readings[4][4] = {0};

/* Scope: Test */

uint32_t Test_run(void) {
    readings[0][0].value = 100;
    if (readings[0][0].value != 100) return 1;
    readings[0][0].timestamp = 12345;
    if (readings[0][0].timestamp != 12345) return 2;
    readings[0][0].valid = true;
    if (readings[0][0].valid != true) return 3;
    readings[1][2].value = 200;
    if (readings[1][2].value != 200) return 4;
    readings[3][3].value = 999;
    if (readings[3][3].value != 999) return 5;
    readings[0][0].value += 50;
    if (readings[0][0].value != 150) return 6;
    return 0;
}

int main(void) {
    return Test_run();
}
