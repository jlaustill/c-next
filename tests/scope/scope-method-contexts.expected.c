/**
 * Generated by C-Next Transpiler
 * A safer C for embedded systems
 */

// Test: ADR-016 Modifiers in public and private method contexts
// Verifies that this. and global. accessors work correctly in all method contexts
// Tests: public methods, private methods, local variables with modifiers, combined access patterns

#include <stdint.h>
#include <stdbool.h>

// ADR-044: Overflow helper functions
#include <limits.h>

static inline uint8_t cnx_clamp_add_u8(uint8_t a, uint8_t b) {
    if (a > UINT8_MAX - b) return UINT8_MAX;
    return a + b;
}

static inline uint8_t cnx_clamp_sub_u8(uint8_t a, uint8_t b) {
    if (a < b) return 0;
    return a - b;
}

static inline uint16_t cnx_clamp_add_u16(uint16_t a, uint16_t b) {
    if (a > UINT16_MAX - b) return UINT16_MAX;
    return a + b;
}

static inline uint16_t cnx_clamp_sub_u16(uint16_t a, uint16_t b) {
    if (a < b) return 0;
    return a - b;
}

// Global variables for testing global. accessor in all method contexts
const uint8_t GLOBAL_MAX = 100;
const uint16_t GLOBAL_THRESHOLD = 1000;
uint8_t globalCounter = 50;
bool globalEnabled = true;
int16_t globalOffset = -25;
float globalScale = 2.5f;

/* Scope: MethodContexts */
uint8_t MethodContexts_privateValue = 10;
uint8_t MethodContexts_privateClampValue = 200;
uint8_t MethodContexts_privateWrapValue = 250;
bool MethodContexts_privateFlag = false;
int16_t MethodContexts_privateOffset = -50;
uint8_t MethodContexts_publicValue = 20;
uint16_t MethodContexts_publicClampValue = 60000;
uint16_t MethodContexts_publicWrapValue = 65530;
bool MethodContexts_publicFlag = true;
int32_t MethodContexts_publicOffset = -1000;

uint8_t MethodContexts_getPrivateValue(void) {
    return MethodContexts_privateValue;
}

uint8_t MethodContexts_getPublicValueInternal(void) {
    return MethodContexts_publicValue;
}

uint8_t MethodContexts_getPrivateClampValue(void) {
    return MethodContexts_privateClampValue;
}

uint8_t MethodContexts_getPrivateWrapValue(void) {
    return MethodContexts_privateWrapValue;
}

void MethodContexts_incrementPrivateClamp(void) {
    MethodContexts_privateClampValue = cnx_clamp_add_u8(MethodContexts_privateClampValue, 100);
}

void MethodContexts_incrementPrivateWrap(void) {
    MethodContexts_privateWrapValue += 10;
}

bool MethodContexts_getPrivateFlag(void) {
    return MethodContexts_privateFlag;
}

int16_t MethodContexts_getPrivateOffset(void) {
    return MethodContexts_privateOffset;
}

uint8_t MethodContexts_getGlobalMaxInternal(void) {
    return GLOBAL_MAX;
}

uint8_t MethodContexts_getGlobalCounterInternal(void) {
    return globalCounter;
}

bool MethodContexts_getGlobalEnabledInternal(void) {
    return globalEnabled;
}

int16_t MethodContexts_getGlobalOffsetInternal(void) {
    return globalOffset;
}

float MethodContexts_getGlobalScaleInternal(void) {
    return globalScale;
}

uint8_t MethodContexts_computePrivateSum(void) {
    return MethodContexts_privateValue + globalCounter;
}

bool MethodContexts_privateValueBelowMax(void) {
    return MethodContexts_privateValue < GLOBAL_MAX;
}

int16_t MethodContexts_computePrivateWithOffset(void) {
    return MethodContexts_privateOffset + globalOffset;
}

uint8_t MethodContexts_getPrivateValueExternal(void) {
    return MethodContexts_privateValue;
}

uint8_t MethodContexts_getPublicValue(void) {
    return MethodContexts_publicValue;
}

uint16_t MethodContexts_getPublicClampValue(void) {
    return MethodContexts_publicClampValue;
}

uint16_t MethodContexts_getPublicWrapValue(void) {
    return MethodContexts_publicWrapValue;
}

void MethodContexts_incrementPublicClamp(void) {
    MethodContexts_publicClampValue = cnx_clamp_add_u16(MethodContexts_publicClampValue, 10000);
}

void MethodContexts_incrementPublicWrap(void) {
    MethodContexts_publicWrapValue += 10;
}

bool MethodContexts_getPublicFlag(void) {
    return MethodContexts_publicFlag;
}

int32_t MethodContexts_getPublicOffset(void) {
    return MethodContexts_publicOffset;
}

void MethodContexts_setPrivateValue(uint8_t* val) {
    MethodContexts_privateValue = (*val);
}

void MethodContexts_setPublicValue(uint8_t* val) {
    MethodContexts_publicValue = (*val);
}

void MethodContexts_setPrivateFlag(bool* val) {
    MethodContexts_privateFlag = (*val);
}

void MethodContexts_setPublicFlag(bool* val) {
    MethodContexts_publicFlag = (*val);
}

uint8_t MethodContexts_getGlobalMax(void) {
    return GLOBAL_MAX;
}

uint16_t MethodContexts_getGlobalThreshold(void) {
    return GLOBAL_THRESHOLD;
}

uint8_t MethodContexts_getGlobalCounter(void) {
    return globalCounter;
}

bool MethodContexts_getGlobalEnabled(void) {
    return globalEnabled;
}

int16_t MethodContexts_getGlobalOffset(void) {
    return globalOffset;
}

float MethodContexts_getGlobalScale(void) {
    return globalScale;
}

uint8_t MethodContexts_computePublicSum(void) {
    return MethodContexts_publicValue + globalCounter;
}

bool MethodContexts_publicValueBelowMax(void) {
    return MethodContexts_publicValue < GLOBAL_MAX;
}

int32_t MethodContexts_computePublicWithOffset(void) {
    return MethodContexts_publicOffset + globalOffset;
}

uint8_t MethodContexts_getPrivateSumViaInternal(void) {
    return MethodContexts_computePrivateSum();
}

uint8_t MethodContexts_getGlobalCounterViaInternal(void) {
    return MethodContexts_getGlobalCounterInternal();
}

uint8_t MethodContexts_getPrivateClampViaInternal(void) {
    return MethodContexts_getPrivateClampValue();
}

void MethodContexts_modifyAllPrivate(void) {
    MethodContexts_privateValue = MethodContexts_privateValue + 1;
    MethodContexts_privateClampValue = cnx_clamp_add_u8(MethodContexts_privateClampValue, 10);
    MethodContexts_privateWrapValue += 5;
    MethodContexts_privateFlag = !MethodContexts_privateFlag;
    MethodContexts_privateOffset = MethodContexts_privateOffset - 10;
}

void MethodContexts_modifyAllPublic(void) {
    MethodContexts_publicValue = MethodContexts_publicValue + 1;
    MethodContexts_publicClampValue = cnx_clamp_add_u16(MethodContexts_publicClampValue, 100);
    MethodContexts_publicWrapValue += 5;
    MethodContexts_publicFlag = !MethodContexts_publicFlag;
    MethodContexts_publicOffset = MethodContexts_publicOffset - 100;
}

bool MethodContexts_checkThresholds(void) {
    return MethodContexts_publicClampValue < GLOBAL_THRESHOLD && MethodContexts_privateValue < GLOBAL_MAX;
}

bool MethodContexts_getAllFlags(void) {
    return MethodContexts_privateFlag && MethodContexts_publicFlag && globalEnabled;
}

void main(void) {
    MethodContexts_getPrivateValueExternal();
    MethodContexts_getPrivateSumViaInternal();
    MethodContexts_getGlobalCounterViaInternal();
    MethodContexts_getPrivateClampViaInternal();
    MethodContexts_getPublicValue();
    MethodContexts_getPublicClampValue();
    MethodContexts_getPublicWrapValue();
    MethodContexts_getPublicFlag();
    MethodContexts_getPublicOffset();
    MethodContexts_getGlobalMax();
    MethodContexts_getGlobalThreshold();
    MethodContexts_getGlobalCounter();
    MethodContexts_getGlobalEnabled();
    MethodContexts_getGlobalOffset();
    MethodContexts_getGlobalScale();
    MethodContexts_computePublicSum();
    MethodContexts_publicValueBelowMax();
    MethodContexts_computePublicWithOffset();
    MethodContexts_setPrivateValue(42);
    MethodContexts_setPublicValue(84);
    MethodContexts_setPrivateFlag(true);
    MethodContexts_setPublicFlag(false);
    MethodContexts_incrementPublicClamp();
    MethodContexts_incrementPublicWrap();
    MethodContexts_modifyAllPrivate();
    MethodContexts_modifyAllPublic();
    MethodContexts_checkThresholds();
    MethodContexts_getAllFlags();
    MethodContexts_publicValue;
    MethodContexts_publicClampValue;
    MethodContexts_publicWrapValue;
    MethodContexts_publicFlag;
    MethodContexts_publicOffset;
}
